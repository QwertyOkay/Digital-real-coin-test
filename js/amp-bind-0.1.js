(self.AMP=self.AMP||[]).push({m:0,v:"2309082229000",n:"amp-bind",ev:"0.1",l:!0,f:function(t,e){!function(){function e(t,n){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,n)}function n(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var s=r(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return o(this,n)}}function a(t){return t?Array.prototype.slice.call(t):[]}var u=Array.isArray;function l(t,e){for(var n=[],r=0,i=0;i<t.length;i++){var o=t[i];e(o,i,t)?n.push(o):(r<i&&(t[r]=o),r++)}return r<t.length&&(t.length=r),n}function c(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f=Object.prototype,d=f.hasOwnProperty,v=f.toString;function p(t){return"[object Object]"===v.call(t)}function g(t){var e=Object.create(null);return t&&Object.assign(e,t),e}function m(t,e){return d.call(t,e)}function b(t,e){return m(t,e)?t[e]:void 0}function y(t,e){if("."==e)return t;for(var n,r=t,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split("."));!(n=o()).done;){var s=n.value;if(!(s&&r&&void 0!==r[s]&&"object"==i(r)&&m(r,s))){r=void 0;break}r=r[s]}return r}function w(t){return"number"==typeof t&&isFinite(t)}var E="​​​";function A(t){return 1==(null==(e=t)?void 0:e.nodeType)?t.tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t;var e}function P(t){return t.indexOf(E)>=0}function S(t,e,n,r,i,o,s,a,u,l,c){return t}function O(t,e,n,r,i,o,s,a,u,c,h){return function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(e)return e;t&&-1==i.indexOf(t)&&(i+=t);for(var o=3,s=i.split("%s"),a=s.shift(),u=[a];s.length;){var c=arguments[o++],h=s.shift();a+=A(c)+h,u.push(c,h.trim())}var f=new Error(a);throw f.messageArray=l(u,(function(t){return""!==t})),null===(n=(r=self).__AMP_REPORT_ERROR)||void 0===n||n.call(r,f),f}(E,t,e,n,r,i,o,s,a,u,c,h)}var M,_=function(t){n(r,t);var e=s(r);function r(){return e.apply(this,arguments)}var i=r.prototype;return i.getLayoutPriority=function(){return 1},i.isAlwaysFixed=function(){return!0},i.isLayoutSupported=function(t){return!0},i.renderOutsideViewport=function(){return!0},i.qi=function(){return"<amp-bind-macro> "+(this.element.getAttribute("id")||"<unknown id>")},r}(t.BaseElement);function x(){return M||(M=Promise.resolve(void 0))}var T=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function R(t){return JSON.parse(t)}var N,k=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function I(t,e,n,r,i){return i||(e?"�":r?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function L(t,e){return t.closest?t.closest(e):function(t,e,n){var r;for(r=t;r&&void 0!==r;r=r.parentElement)if(e(r))return r;return null}(t,(function(t){return function(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!n&&n.call(t,e)}(t,e)}))}var j=["Webkit","webkit","Moz","moz","ms","O","o"];function U(t,e,n,r,i){var o=function(t,e,n){if(e.startsWith("--"))return e;N||(N=g());var r=N[e];if(!r||n){if(r=e,void 0===t[e]){var i=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(e),o=function(t,e){for(var n=0;n<j.length;n++){var r=j[n]+e;if(void 0!==t[r])return r}return""}(t,i);void 0!==t[o]&&(r=o)}n||(N[e]=r)}return r}(t.style,e,i);if(o){var s,a=r?n+r:n;t.style.setProperty((s=o.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),j.some((function(t){return s.startsWith(t+"-")}))?"-".concat(s):s),a)}}var C=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return e}}function F(t){var e,n=g();if(!t)return n;for(;e=C.exec(t);){var r=D(e[1],e[1]),i=e[2]?D(e[2].replace(/\+/g," "),e[2]):"";n[r]=i}return n}function V(t){var e=(t||self).location;return F(e.originalHash||e.hash)}var B="";function W(t){var e=t||self;return e.__AMP_MODE?e.__AMP_MODE:e.__AMP_MODE=function(t){return{localDev:!1,development:q(t,V(t)),esm:!1,test:!1,rtvVersion:G(t),ssrReady:!1}}(e)}function G(t){var e;return B||(B=(null===(e=t.AMP_CONFIG)||void 0===e?void 0:e.v)||"01".concat("2309082229000")),B}function q(t,e){var n=e||V(t);return["1","actions","amp","amp4ads","amp4email"].includes(n.development)||!!t.AMP_DEV_MODE}var H=self.AMP.config.urls;self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var J=self.__AMP_LOG;function z(t,e){throw new Error("failed to call initLogConstructor")}function $(t){return J.user||(J.user=X()),function(t,e){return e&&e.ownerDocument.defaultView!=t}(J.user.win,t)?J.userForEmbed||(J.userForEmbed=X()):J.user}function X(t){return z()}function K(){return J.dev||(J.dev=z())}function Y(t,e,n,r,i,o,s,a,u,l,c){return t}function Z(t,e,n,r,i,o,s,a,u,l,c){return $().assert(t,e,n,r,i,o,s,a,u,l,c)}function Q(t,e){return st(t=rt(t),e)}function tt(t,e){return st(ot(it(t)),e)}function et(t,e){var n=ot(it(t));return ct(n,e)?st(n,e):null}function nt(t,e){return function(t,e){var n=ut(t,e);if(n)return n;var r,i,o,s,a=lt(t);return a[e]=(i=(r=new T).promise,o=r.reject,s=r.resolve,i.catch((function(){})),{obj:null,promise:i,resolve:s,reject:o,context:null,ctor:null}),a[e].promise}(ot(t),e)}function rt(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function it(t){return t.nodeType?(n=t,e=(n.ownerDocument||n).defaultView,Q(e,"ampdoc")).getAmpDoc(t):t;var e,n}function ot(t){var e=it(t);return e.isSingleDoc()?e.win:e}function st(t,e){Y(ct(t,e));var n=lt(t)[e];return n.obj||(Y(n.ctor),Y(n.context),n.obj=new n.ctor(n.context),Y(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function at(t,e,n,r,i,o){var s=lt(t),a=s[n];a||(a=s[n]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:o||!1}),!i&&a.ctor||(a.ctor=r,a.context=e,a.sharedInstance=o||!1,a.resolve&&st(t,n))}function ut(t,e){var n=lt(t)[e];return n?n.promise?n.promise:(st(t,e),n.promise=Promise.resolve(n.obj)):null}function lt(t){var e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}function ct(t,e){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!n||!n.ctor)}var ht=function(t){return function(t,e,n){var r=et(t,e);return r?Promise.resolve(r):function(t,e,n,r){var i=function(t,e){return ut(ot(t),e)}(t,e);if(i)return i;var o=it(t);return o.whenExtensionsKnown().then((function(){var t=o.getExtensionVersion(n);return t?Q(o.win,"extensions").waitForExtension(n,t):null})).then((function(n){return n?nt(t,e):null}))}(t,e,"amp-bind")}(t,"bind")},ft=function(t){return tt(t,"viewer")},dt=function(t){return Q(t,"xhr")};function vt(t,e,n,r){var i={detail:n};if(Object.assign(i,r),"function"==typeof t.CustomEvent)return new t.CustomEvent(e,i);var o=t.document.createEvent("CustomEvent");return o.initCustomEvent(e,!!i.bubbles,!!i.cancelable,n),o}function pt(t){return t.detail}var gt,mt,bt=function(){function t(t){this.dr=t,this.pr=0,this.mr=0,this.yr=g()}var e=t.prototype;return e.has=function(t){return!!this.yr[t]},e.get=function(t){var e=this.yr[t];if(e)return e.access=++this.mr,e.payload},e.put=function(t,e){this.has(t)||this.pr++,this.yr[t]={payload:e,access:this.mr},this.wr()},e.wr=function(){if(!(this.pr<=this.dr)){var t,e=this.yr,n=this.mr+1;for(var r in e){var i=e[r].access;i<n&&(n=i,t=r)}void 0!==t&&(delete e[t],this.pr--)}},t}(),yt=self.AMP.config.urls,wt=new Set(["c","v","a","ad"]),Et=function(t){return"string"==typeof t?At(t):t};function At(t,e){return gt||(gt=self.document.createElement("a"),mt=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new bt(100))),function(t,e,n){if(n&&n.has(e))return n.get(e);t.href=e,t.protocol||(t.href=t.href);var r,i={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==i.pathname[0]&&(i.pathname="/"+i.pathname),("http:"==i.protocol&&80==i.port||"https:"==i.protocol&&443==i.port)&&(i.port="",i.host=i.hostname),r=t.origin&&"null"!=t.origin?t.origin:"data:"!=i.protocol&&i.host?i.protocol+"//"+i.host:i.href,i.origin=r;var o=i;return n&&n.put(e,o),o}(gt,t,e?null:mt)}function Pt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return Z(null!=t,"%s %s must be available",e,n),Z(function(t){return"https:"==(t=Et(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||(n=".localhost",(r=(e=t.hostname).length-10)>=0&&e.indexOf(n,r)==r);var e,n,r}(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',e,n,t),t}function St(t){return yt.cdnProxyRegex.test(Et(t).origin)}function Ot(t){if(!St(t=Et(t)))return t.href;var e=t.pathname.split("/"),n=e[1];Z(wt.has(n),"Unknown path prefix in url %s",t.href);var r=e[2],i="s"==r?"https://"+decodeURIComponent(e[3]):"http://"+decodeURIComponent(r);return Z(i.indexOf(".")>0,"Expected a . in origin %s",i),e.splice(1,"s"==r?3:2),i+e.join("/")+function(t,e){if(!t||"?"==t)return"";var n=new RegExp("[?&]".concat("(amp_(js[^&=]*|gsa|r|kit)|usqp)","\\b[^&]*"),"g"),r=t.replace(n,"").replace(/^[?&]/,"");return r?"?"+r:""}(t.search)+(t.hash||"")}function Mt(t){return At(Ot(t)).origin}function _t(t,e){return e=Et(e),"function"==typeof URL?new URL(t,e.href).toString():function(t,e){e=Et(e);var n=At(t=t.replace(/\\/g,"/"));return t.toLowerCase().startsWith(n.protocol)?n.href:t.startsWith("//")?e.protocol+t:t.startsWith("/")?e.origin+t:e.origin+e.pathname.replace(/\/[^/]*$/,"/")+t}(t,e)}var xt=function(t){n(r,t);var e=s(r);function r(t){var n;return(n=e.call(this,t)).ogt=void 0,n.agt=new T,n}var i=r.prototype;return i.getLayoutPriority=function(){return 1},i.isAlwaysFixed=function(){return!0},i.isLayoutSupported=function(t){return!0},i.buildCallback=function(){var t=this;!function(t,e){void 0===e&&(e=t.hasAttribute("hidden")),e?t.removeAttribute("hidden"):t.setAttribute("hidden","")}(this.element,!1),this.element.setAttribute("aria-hidden","true");var e=this.element;e.hasAttribute("overridable")&&ht(e).then((function(t){Y(t),t.addOverridableKey(e.getAttribute("id"))})),this.parseAndUpdate(),this.element.hasAttribute("src")&&this.lgt(!0),this.registerAction("refresh",(function(){Z(t.element.hasAttribute("src"),'Can\'t refresh <amp-state> without "src" attribute.'),t.lgt(!1,!0)}))},i.mutatedAttributesCallback=function(t){if(this.getAmpDoc().hasBeenVisible())void 0!==t.src&&this.element.hasAttribute("src")&&this.lgt(!1);else{var e=this.qi();K().error(e,"ampdoc must be visible before mutation.")}},i.renderOutsideViewport=function(){return!0},i.parseAndUpdate=function(){return void 0===this.ogt&&(this.ogt=this.Rh(),null!==this.ogt)?this.fgt(this.ogt,!0):x()},i.Rh=function(){var t=this,e=this.element.children;if(0==e.length)return null;var n=this.qi();if(1!=e.length)return this.user().error(n,"Should contain exactly one <script> child."),null;var r,i,o=e[0];return"SCRIPT"!=(r=o).tagName||"APPLICATION/JSON"!=(null===(i=r.getAttribute("type"))||void 0===i?void 0:i.toUpperCase())?(this.user().error(n,'State should be in a <script> tag with type="application/json".'),null):function(t,e){try{return R(t)}catch(t){return null==e||e(t),null}}(o.textContent,(function(e){t.user().error(n,"Failed to parse state. Is it valid JSON?",e)}))},i.Ee=function(t,e,n){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.expr,i=void 0===r?".":r,o=n.refresh,s=void 0!==o&&o,a=n.url,u=void 0===a?e.getAttribute("src"):a,l=n.urlReplacement,c=void 0===l?0:l,h=n.xssiPrefix,f=void 0===h?void 0:h;Pt(u,e);var d=function(t){return Q(t,"batched-xhr")}(t.win);return function(t,e,n,r){var i=function(t){return et(t,"url-replace")}(t);return(n>=1?i.expandUrlAsync(e):Promise.resolve(e)).then((function(e){if(1===n){var o=i.collectDisallowedVarsSync(t);if(o.length>0)throw $().createError("URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. "+'Please add data-amp-replace="'.concat(o.join(" "),'" to the ')+"<".concat(t.tagName,"> element. See https://bit.ly/amp-var-subs."))}var s={};return t.hasAttribute("credentials")&&(s.credentials=t.getAttribute("credentials")),r&&(s.cache="reload"),{xhrUrl:e,fetchOpt:s}}))}(e,u,c,s).then((function(t){return d.fetchJson(t.xhrUrl,t.fetchOpt)})).then((function(e){return dt(t.win).xssiJson(e,f)})).then((function(t){if(null==t)throw new Error("Response is undefined.");return y(t,i||".")})).catch((function(t){throw $().createError("failed fetching JSON data",t)}))}(t,this.element,{urlReplacement:e,refresh:n})},i.Y9=function(t,e){var n=this,r=this.element,i=this.getAmpDoc(),o=Mt(r.getAttribute("src"))===Mt(i.win.location)||t?2:1;return this.Ee(i,o,e).catch((function(t){var e=t?vt(n.win,"amp-state.error",{response:t.response}):null;(function(t){return et(t,"action")})(r).trigger(r,"fetch-error",e,1)}))},i.lgt=function(t,e){var n=this;t||(this.agt=new T);var r=this.agt;return this.getAmpDoc().whenFirstVisible().then((function(){return n.Y9(t,e)})).then((function(e){return n.fgt(e,t)})).then((function(){return r.resolve()})).catch((function(t){throw r.resolve(),t}))},i.getFetchingPromise=function(){return this.element.hasAttribute("src")?this.agt.promise:x()},i.fgt=function(t,e){if(null==t)return x();var n=Z(this.element.id,"<amp-state> must have an id.");return ht(this.element).then((function(r){Y(r);var i=g();i[n]=t,r.setState(i,{skipEval:e,skipAmpState:!e})}))},i.qi=function(){return"<amp-state> "+(this.element.getAttribute("id")||"<unknown id>")},r}(t.BaseElement),Tt=function(){function t(){this.vn=g(),this.It=null}var e=t.prototype;return e.get=function(t){var e=this.vn[t];return null==e?null:e},e.whenSignal=function(t){var e,n=null===(e=this.It)||void 0===e?void 0:e[t];if(!n){var r=this.vn[t];n=null!=r?{promise:"number"==typeof r?Promise.resolve(r):Promise.reject(r)}:new T,this.It||(this.It=g()),this.It[t]=n}return n.promise},e.signal=function(t,e){var n;if(null==this.vn[t]){var r=null!=e?e:Date.now();this.vn[t]=r;var i=null===(n=this.It)||void 0===n?void 0:n[t];null!=i&&i.resolve&&(i.resolve(r),i.resolve=void 0,i.reject=void 0)}},e.rejectSignal=function(t,e){var n;if(null==this.vn[t]){this.vn[t]=e;var r=null===(n=this.It)||void 0===n?void 0:n[t];null!=r&&r.reject&&(r.reject(e),r.promise.catch((function(){})),r.resolve=void 0,r.reject=void 0)}},e.reset=function(t){var e;this.vn[t]&&delete this.vn[t];var n=null===(e=this.It)||void 0===e?void 0:e[t];n&&!n.resolve&&delete this.It[t]},t}();function Rt(t){if(S(function(t){var e=t.tagName;return e.startsWith("AMP-")&&!("AMP-STICKY-AD-TOP-PADDING"==e||"AMP-BODY"==e)}(t)),t.createdCallback)return Promise.resolve(t);if(!t.__AMP_UPG_PRM){var e=new T;t.__AMP_UPG_PRM=e.promise,t.__AMP_UPG_RES=e.resolve}var n=t.__AMP_UPG_PRM;return S(n),n}var Nt=/(\S+)(?:\s+(?:(-?\d+(?:\.\d+)?)([a-zA-Z]*)))?\s*(?:,|$)/g;function kt(t){for(var e,n=[];e=Nt.exec(t);){var r=e[1],i=void 0,o=void 0;if(e[2]){var s=e[3].toLowerCase();if("w"==s)i=parseInt(e[2],10);else{if("x"!=s)continue;o=parseFloat(e[2])}}else o=1;n.push({url:r,width:i,dpr:o})}return new It(n)}var It=function(){function t(t){O(t.length>0,"Srcset must have at least one source"),this.LE=t;for(var e=!1,n=!1,r=0;r<t.length;r++){var i=t[r];e=e||!!i.width,n=n||!!i.dpr}O(!(e===n),"Srcset must have width or dpr sources, but not both"),t.sort(e?Lt:jt),this.ME=e}var e=t.prototype;return e.select=function(t,e){var n;return S(t),S(e),n=this.ME?this.HE(t*e):this.RE(e),this.LE[n].url},e.HE=function(t){for(var e=this.LE,n=0,r=1/0,i=1/0,o=0;o<e.length;o++){var s,a=null!==(s=e[o].width)&&void 0!==s?s:0,u=Math.abs(a-t);if(!(u<=1.1*r||t/i>1.2))break;n=o,r=u,i=a}return n},e.RE=function(t){for(var e=this.LE,n=0,r=1/0,i=0;i<e.length;i++){var o=Math.abs(e[i].dpr-t);if(!(o<=r))break;n=i,r=o}return n},e.getUrls=function(){return this.LE.map((function(t){return t.url}))},e.stringify=function(t){for(var e=[],n=this.LE,r=0;r<n.length;r++){var i=n[r],o=i.url;t&&(o=t(o)),this.ME?o+=" ".concat(i.width,"w"):o+=" ".concat(i.dpr,"x"),e.push(o)}return e.join(", ")},t}();function Lt(t,e){return O(t.width!=e.width,"Duplicate width: %s",t.width),t.width-e.width}function jt(t,e){return O(t.dpr!=e.dpr,"Duplicate dpr: %s",t.dpr),t.dpr-e.dpr}var Ut={class:{denylistedValueRegex:"(^|\\W)i-amphtml-"},hidden:null,text:null},Ct={width:null,height:null},Dt={"AMP-AUDIO":{album:null,artist:null,artwork:null,controlsList:null,loop:null,src:{allowedProtocols:{https:!0}},title:null},"AMP-AUTOCOMPLETE":{src:{allowedProtocols:{https:!0}}},"AMP-BASE-CAROUSEL":{"advance-count":null,"auto-advance-count":null,"auto-advance-interval":null,"auto-advance-loops":null,"auto-advance":null,horizontal:null,"initial-index":null,loop:null,"mixed-length":null,"side-slide-count":null,slide:null,"snap-align":null,"snap-by":null,snap:null,"visible-count":null},"AMP-BRIGHTCOVE":{"data-account":null,"data-embed":null,"data-player":null,"data-player-id":null,"data-playlist-id":null,"data-video-id":null},"AMP-CAROUSEL":{slide:null},"AMP-DATE-PICKER":{max:null,min:null,src:{allowedProtocols:{https:!0}}},"AMP-GOOGLE-DOCUMENT-EMBED":{src:null,title:null},"AMP-IFRAME":{src:null,title:null},"AMP-IMG":{alt:null,attribution:null,src:{allowedProtocols:{data:!0,http:!0,https:!0}},srcset:{alternativeName:"src"}},"AMP-LIGHTBOX":{open:null},"AMP-LIST":{src:{allowedProtocols:{https:!0}},state:null,"is-layout-container":null},"AMP-RENDER":{src:{allowedProtocols:{https:!0}}},"AMP-SELECTOR":{disabled:null,selected:null},"AMP-STATE":{src:{allowedProtocols:{https:!0}}},"AMP-TIMEAGO":{datetime:null,title:null},"AMP-TWITTER":{"data-tweetid":null},"AMP-VIDEO":{album:null,alt:null,artist:null,artwork:null,attribution:null,controls:null,controlslist:null,loop:null,poster:null,preload:null,src:{allowedProtocols:{https:!0}},title:null},"AMP-YOUTUBE":{"data-videoid":null},A:{href:{allowedProtocols:{ftp:!0,geo:!0,http:!0,https:!0,mailto:!0,maps:!0,bip:!0,bbmi:!0,chrome:!0,"itms-services":!0,facetime:!0,"fb-me":!0,"fb-messenger":!0,intent:!0,line:!0,"microsoft-edge":!0,skype:!0,sms:!0,snapchat:!0,tel:!0,tg:!0,threema:!0,twitter:!0,viber:!0,webcal:!0,"web+mastodon":!0,wh:!0,whatsapp:!0}}},BUTTON:{disabled:null,type:null,value:null},DETAILS:{open:null},FIELDSET:{disabled:null},IMAGE:{"xlink:href":{allowedProtocols:{http:!0,https:!0}}},INPUT:{accept:null,accesskey:null,autocomplete:null,checked:null,disabled:null,height:null,inputmode:null,max:null,maxlength:null,min:null,minlength:null,multiple:null,pattern:null,placeholder:null,readonly:null,required:null,selectiondirection:null,size:null,spellcheck:null,step:null,type:{denylistedValueRegex:"(^|\\s)(button|image|)(\\s|$)"},value:null,width:null},OPTION:{disabled:null,label:null,selected:null,value:null},OPTGROUP:{disabled:null,label:null},SECTION:{"data-expand":null,expanded:null},SELECT:{autofocus:null,disabled:null,multiple:null,required:null,size:null},SOURCE:{src:{allowedProtocols:{https:!0}},type:null},TRACK:{label:null,src:{allowedProtocols:{https:!0}},srclang:null},TEXTAREA:{autocomplete:null,autofocus:null,cols:null,disabled:null,maxlength:null,minlength:null,pattern:null,placeholder:null,readonly:null,required:null,rows:null,selectiondirection:null,selectionend:null,selectionstart:null,spellcheck:null,wrap:null,defaulttext:null}},Ft={src:!0,srcset:!0,href:!0,"xlink:href":!0},Vt=function(){function t(t){this.DU=t}var e=t.prototype;return e.canBind=function(t,e){return void 0!==this.BU(t,e)},e.isResultValid=function(t,e,n){var r=this.BU(t,e);if(r&&r.alternativeName&&(r=this.BU(t,r.alternativeName)),void 0===r)return!1;if(null===r)return!0;if(n&&b(Ft,e)){var i;if("srcset"===e){var o;try{o=kt(n)}catch(t){return $().error("amp-bind","Failed to parse srcset: ",t),!1}i=o.getUrls()}else i=[n];for(var s=0;s<i.length;s++)if(!this.FU(i[s],r))return!1}var a=r.denylistedValueRegex;return!(n&&a&&new RegExp(a,"i").test(n))},e.FU=function(t,e){if(t){if(/__amp_source_origin/.test(t))return!1;var n=e.allowedProtocols;if(n){var r=/^([^:\/?#.]+):[\s\S]*$/.exec(t);if(null!==r&&!m(n,r[1].toLowerCase().trim()))return!1}}return!0},e.BU=function(t,e){if(e.startsWith("aria-"))return null;if(!b(Ft,e)||this.DU){var n=b(Ut,e);if(void 0!==n)return n;var r=b(Ct,e);if(t.startsWith("AMP-")&&void 0!==r)return r;var i=b(Dt,t);return i?i[e]:void 0}},t}(),Bt=function(){function t(){this.Li=[]}var e,n=t.prototype;return n.peek=function(){var t=this.length;return t?this.Li[t-1].item:null},n.enqueue=function(t,e){if(isNaN(e))throw new Error("Priority must not be NaN.");var n=this.Hi(e);this.Li.splice(n,0,{item:t,priority:e})},n.Hi=function(t){for(var e=-1,n=0,r=this.length;n<=r&&(e=Math.floor((n+r)/2))!==this.length;)if(this.Li[e].priority<t)n=e+1;else{if(!(e>0&&this.Li[e-1].priority>=t))break;r=e-1}return e},n.forEach=function(t){for(var e=this.length;e--;)t(this.Li[e].item)},n.dequeue=function(){var t=this.Li.pop();return t?t.item:null},(e=[{key:"length",get:function(){return this.Li.length}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}(),Wt=!1;function Gt(t){Y(t.defaultView),Wt||(Wt=!0,function(t){!function(t,e){for(var n in e)U(t,n,e[n])}(t.body,{opacity:1,visibility:"visible",animation:"none"})}(t))}var qt="CHUNK",Ht=/nochunking=1/.test(self.location.hash),Jt=x();function zt(t,e,n){Ht?Jt.then(e):function(t){var e,n;return e=Yt,at(ot(n=it(t)),n,"chunk",e),tt(t,"chunk")}(t).run(e,n)}var $t="not_run",Xt=function(){function t(t){this.state=$t,this.Vi=t}var e=t.prototype;return e.Fi=function(t){if("run"!=this.state){this.state="run";try{this.Vi(t)}catch(t){throw this.Bi(t),t}}},e.qi=function(){return this.Vi.displayName||this.Vi.name},e.Bi=function(t){},e.$i=function(){return!1},e.Wi=function(){return!1},t}(),Kt=function(t){n(r,t);var e=s(r);function r(t,n,r){var i;return(i=e.call(this,t)).Ki=r,i}var i=r.prototype;return i.Bi=function(t){Gt(self.document)},i.$i=function(){return this.Yi()},i.Wi=function(){return this.Ki.Ji},i.Yi=function(){return this.Ki.ampdoc.isVisible()},r}(Xt),Yt=function(){function t(t){var e,n=this;this.ampdoc=t,this.t=t.win,this.Xi=new Bt,this.Qi=this.Zi.bind(this),this.En=0,this.On=!(!this.t.navigator.scheduling||!this.t.navigator.scheduling.isInputPending),this.Tn=!1,this.Gi=this.t.document.documentElement.hasAttribute("i-amphtml-no-boilerplate"),this.t.addEventListener("message",(function(t){"amp-macro-task"==t.data&&n.Zi(null)})),this.Ji=!1,(e=t,nt(e,"viewer")).then((function(){n.Ji=!0})),t.onVisibilityChanged((function(){t.isVisible()&&n.Pn()}))}var e=t.prototype;return e.run=function(t,e){var n=new Xt(t);this.In(n,e)},e.runForStartup=function(t){var e=new Kt(t,this.t,this);this.In(e,Number.POSITIVE_INFINITY)},e.In=function(t,e){this.Xi.enqueue(t,e),this.Pn()},e.Sn=function(t){for(var e=this.Xi.peek();e&&e.state!==$t;)this.Xi.dequeue(),e=this.Xi.peek();return e&&t&&this.Xi.dequeue(),e},e.Zi=function(t){var e,n=this,r=this.Sn(!0);if(!r)return this.Tn=!1,this.En=0,!1;try{e=Date.now(),r.Fi(t)}finally{Jt.then().then().then().then().then().then().then().then().then((function(){n.Tn=!1,n.En+=Date.now()-e,K().fine(qt,r.qi(),"Chunk duration",Date.now()-e,n.En),n.Pn()}))}return!0},e.Rn=function(t){var e=this;if(this.Gi&&(this.On?this.t.navigator.scheduling.isInputPending():this.En>5))return this.En=0,void this._n();Jt.then((function(){e.Qi(t)}))},e.Pn=function(){if(!this.Tn){var t=this.Sn();if(t)return t.$i()?(this.Tn=!0,void this.Rn(null)):void(t.Wi()&&this.t.requestIdleCallback?(e=this.t,n=2e3,r=this.Qi,i=Date.now(),e.requestIdleCallback((function t(o){if(o.timeRemaining()<15){var s=n-(Date.now()-i);s<=0||o.didTimeout?(K().fine(qt,"Timed out",n,o.didTimeout),r(o)):(K().fine(qt,"Rescheduling with",s,o.timeRemaining()),e.requestIdleCallback(t,{timeout:s}))}else K().fine(qt,"Running idle callback with ",15),r(o)}),{timeout:n})):this._n())}var e,n,r,i},e._n=function(){this.t.postMessage("amp-macro-task","*")},t}(),Zt=self.AMP.config.urls,Qt=self.__AMP_ERRORS||[];self.__AMP_ERRORS=Qt;var te=function(t){return(e=0,n=function(){var t=Math.pow(1.5,e++);return 1e3*(t+function(t,e){var n=t*(e=e||.3)*Math.random();return Math.random()>.5&&(n*=-1),n}(t))},te=function(t){return setTimeout(t,n())})(t);var e,n};function ee(t,e){try{if(t)if(void 0!==t.message)t=function(t){var e=Object.getOwnPropertyDescriptor(t,"message");if(null!=e&&e.writable)return t;var n=t.message,r=t.stack,i=new Error(n);for(var o in t)i[o]=t[o];return i.stack=r,i}(t);else{var n=t;(t=new Error(function(t){try{return JSON.stringify(t)}catch(e){return String(t)}}(n))).origError=n}else t=new Error("Unknown error");if(t.reported)return t;if(t.reported=!0,t.messageArray){var r=c(t.messageArray,(function(t){return null==t?void 0:t.tagName}));r>-1&&(t.associatedElement=t.messageArray[r])}var i=e||t.associatedElement;if(i&&i.classList&&(i.classList.add("i-amphtml-error"),W().development&&(i.classList.add("i-amphtml-element-error"),i.setAttribute("error-message",t.message))),self.console&&(P(t.message)||!t.expected)){var o=console.error||console.log;t.messageArray?o.apply(console,t.messageArray):i?o.call(console,t.message,i):o.call(console,t.message)}i&&i.dispatchCustomEventForTesting&&i.dispatchCustomEventForTesting("amp:error",t.message),ne.call(self,void 0,void 0,void 0,void 0,t)}catch(t){setTimeout((function(){throw t}))}return t}function ne(t,e,n,r,i){var o=this;if(!this||!this.document||i&&i.expected||Gt(this.document),!W().development){var s=!1;try{s=function(t){if(!t.document)return!1;for(var e=t.document.querySelectorAll("script[src]"),n=0;n<e.length;n++)if(!St(e[n].src.toLowerCase()))return!0;return!1}(self)}catch(t){}if(!(s&&Math.random()>.01)){var a=function(t,e,n,r,i,o){t=function(t,e){return e&&(t=e.message?e.message:String(e)),t||(t="Unknown error"),t}(t,i);var s=!(!i||!i.expected);if(!/_reported_/.test(t)&&"CANCELLED"!=t){var a=!(self&&self.window),u=Math.random();if(!((function(t){return-1!=t.indexOf("Failed to load:")}(t)||"Script error."==t||a)&&(s=!0,u>.001))){var l=P(t);if(!(l&&u>.1)){var c=Object.create(null);c.v=W().rtvVersion,c.noAmp=o?"1":"0",c.m=t.replace(E,""),c.a=l?"1":"0",c.ex=s?"1":"0",c.dw=a?"1":"0";var h,f,d="1p";if(self.context&&self.context.location?(c["3p"]="1",d="3p"):W().runtime&&(d=W().runtime),c.rt=d,"inabox"===d&&(c.adid=W().a4aId),c.ca=null!==(f=self.AMP_CONFIG)&&void 0!==f&&f.canary?"1":"0",c.bt=(null===(h=self.AMP_CONFIG)||void 0===h?void 0:h.type)||"unknown",self.location.ancestorOrigins&&self.location.ancestorOrigins[0]&&(c.or=self.location.ancestorOrigins[0]),self.viewerState&&(c.vs=self.viewerState),self.parent&&self.parent!=self&&(c.iem="1"),self.AMP&&self.AMP.viewer){var v=self.AMP.viewer.getResolvedViewerUrl(),p=self.AMP.viewer.maybeGetMessagingOrigin();v&&(c.rvu=v),p&&(c.mso=p)}var g,m,b,y=[],w=self.__AMP__EXPERIMENT_TOGGLES||null;for(var A in w){var S=w[A];y.push("".concat(A,"=").concat(S?"1":"0"))}return c.exps=y.join(","),i?(c.el=(null===(g=i.associatedElement)||void 0===g?void 0:g.tagName)||"u",i.args&&(c.args=JSON.stringify(i.args)),l||i.ignoreStack||!i.stack||(c.s=i.stack),i.message&&(i.message+=" _reported_")):(c.f=e||"",c.l=n||"",c.c=r||""),c.r=self.document?self.document.referrer:"",c.ae=Qt.join(","),c.fr=self.location.originalHash||self.location.hash,"production"===c.bt&&(c.pt="1"),b=t,(m=Qt).length>=25&&m.splice(0,m.length-25+1),m.push(b),c}}}}(t,e,n,r,i,s);a&&te((function(){try{return function(t,e){return e.pt&&Math.random()<.9?x():function(t,e){var n=function(t){return Q(t,"ampdoc")}(t);if(!n.isSingleDoc())return Promise.resolve(!1);var r=n.getSingleDoc();if(!r.getRootNode().documentElement.hasAttribute("report-errors-to-viewer"))return Promise.resolve(!1);var i=ft(r);return i.hasCapability("errorReporter")?i.isTrustedViewer().then((function(t){return!!t&&(i.sendMessage("error",{m:(n=e).m,a:n.a,s:n.s,el:n.el,ex:n.ex,v:n.v,pt:n.pt}),!0);var n})):Promise.resolve(!1)}(t,e).then((function(t){if(!t){var n=new XMLHttpRequest;n.open("POST",Math.random()<.1?Zt.betaErrorReporting:Zt.errorReporting,!0),n.send(JSON.stringify(e))}}))}(o,a).catch((function(){}))}catch(t){}}))}}}var re=self.AMP.config.urls,ie="__AMP_ORIGINAL_TARGET_VALUE_";function oe(t,e,n){var r=At(_t(t,e));return"data:"==r.protocol||St(r)||!n?r.href:"".concat(re.cdn,"/i/")+("https:"==r.protocol?"s/":"")+encodeURIComponent(r.host)+r.pathname+(r.search||"")+(r.hash||"")}var se="web-worker",ae=function(){function t(t){var e=this;this.t=t,this.wt=dt(t);t.location;var n,r,i={createScriptURL:function(t){return/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org(\/.*)?$/.test(t)&&(t.endsWith("ww.js")||t.endsWith("ww.min.js")||t.endsWith("ww.mjs")||t.endsWith("ww.min.mjs"))?t:""}};self.trustedTypes&&self.trustedTypes.createPolicy&&(i=self.trustedTypes.createPolicy("amp-worker#fetchUrl",i)),n=i.createScriptURL(("ww",".js",r=H.cdn,"".concat(r,"/rtv/").concat(W().rtvVersion,"/").concat("ww").concat(".js"))).toString(),K().fine(se,"Fetching web worker from",n),this.cgt=null,this.hgt=this.wt.fetchText(n,{ampCors:!1,bypassInterceptorForDev:!1}).then((function(t){return t.text()})).then((function(r){var i="".concat(n,".map");r=r.replace(/^\/\/# sourceMappingURL=.*/,"//# sourceMappingURL=".concat(i));var o=new t.Blob([r+"\n//# sourceurl="+n],{type:"text/javascript"}),s=t.URL.createObjectURL(o);if(self.trustedTypes&&self.trustedTypes.createPolicy){var a=self.trustedTypes.createPolicy("amp-worker#constructor",{createScriptURL:function(t){return t}});e.cgt=new t.Worker(a.createScriptURL(s))}else e.cgt=new t.Worker(s);e.cgt.onmessage=e.vgt.bind(e)})),this.ir={},this.Hx=0,this.dgt=[t]}var e=t.prototype;return e.S=function(t,e,n){var r=this;return this.hgt.then((function(){return new Promise((function(i,o){var s=r.Hx++;r.ir[s]={method:t,resolve:i,reject:o};var a=r.pgt(n||r.t),u={method:t,args:e,scope:a,id:s};r.cgt.postMessage(u)}))}))},e.vgt=function(t){var e=t.data,n=e.id,r=e.method,i=e.returnValue,o=this.ir[n];o?(S(r==o.method),o.resolve(i),delete this.ir[n]):K().error(se,"Received unexpected message (".concat(r,", ").concat(n,") from worker."))},e.hasPendingMessages=function(){return Object.keys(this.ir).length>0},e.pgt=function(t){var e=this.dgt.indexOf(t);return e>=0?e:this.dgt.push(t)-1},e.fetchPromiseForTesting=function(){return this.hgt},t}(),ue="amp-bind",le=/^(i?-)?amp(html)?-/,ce={INPUT:{checked:!0,value:!0},OPTION:{selected:!0},TEXTAREA:{text:!0,disabled:!0}},he=g({"AMP-CAROUSEL":["slide"],"AMP-LIST":["is-layout-container"],"AMP-SELECTOR":["selected"]}),fe=["AMP-LIST","AMP-RENDER"],de=function(){function t(t){var e=this;this.ampdoc=t,this.t=t.win,this.mgt=t.win,this.bgt=[],this.wgt=function(t,e,n){var r=0,i=0,o=null;function s(){r=0;var n,a=5e3-(t.Date.now()-i);a>0?r=t.setTimeout(s,a):(n=o,o=null,e.apply(null,n))}return function(){i=t.Date.now();for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];o=n,r||(r=t.setTimeout(s,5e3))}}(this.t,(function(){e.bgt.length=0})),this.ygt=[],this.ggt=g(),this.Hs=tt(t,"history"),this.Pgt=[],this.Agt=1e3,this.Gu=tt(t,"mutator"),this.hi=g(),this.Qr=st(this.t,"timer"),this.GU=null,this.Ie=ft(this.ampdoc),this.Ie.onMessageRespond("premutate",this.Sgt.bind(this)),this.Egt=t.whenFirstVisible().then((function(){return t.whenReady().then((function(){return t.getRootNode()}))})),this.Ogt=this.Egt.then((function(t){return e.Fr(t)})),this.Mgt=new T,this.Tgt=null,this.Ut=new Tt;var n=self.AMP;n.printState=n.printState||this.xgt.bind(this),n.setState=n.setState||function(t){return e.setState(t)},n.eval=n.eval||this.Rgt.bind(this)}var e=t.prototype;return e.signals=function(){return this.Ut},e.setState=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};K().info(ue,"setState (init=%s):",n.skipEval,t);try{!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=[],i=[];for(i.push({t:t,s:e,d:0});i.length>0;){var o=i.shift(),s=o.d,a=o.s,u=o.t;if(r.includes(a))throw new Error("Source object has a circular reference.");if(r.push(a),u!==a)if(s>n)Object.assign(u,a);else for(var l=0,c=Object.keys(a);l<c.length;l++){var h=c[l],f=a[h];if(m(u,h)){var d=u[h];if(p(f)&&p(d)){i.push({t:d,s:f,d:s+1});continue}}u[h]=f}}}(this.hi,t,10)}catch(t){$().error(ue,"Failed to merge result from AMP.setState().",t)}if(n.skipEval)return x();var r=this.Ogt.then((function(){return e.qU()})).then((function(t){return e.kgt(t,{skipAmpState:n.skipAmpState,constrain:n.constrain})}));return this.Tgt=r},e.invoke=function(t){var e=t.args,n=t.event,r=t.method,i=t.sequenceId,o=t.tagOrTarget;if(this.bgt.includes(i))return $().error(ue,"One state action allowed per event."),x();this.bgt.push(i),this.wgt();var s=e.__AMP_OBJECT_STRING__;if(s){this.Agt=Math.min(2e3,Math.max(1e3,this.Agt+500)),this.Ut.signal("FIRST_MUTATE");var a={};switch(n&&pt(n)&&(a.event=pt(n)),r){case"setState":return this.setStateWithExpression(s,a);case"pushState":return this.pushStateWithExpression(s,a);default:return Promise.reject(K().createError("Unrecognized method: %s.%s",o,r))}}else $().error("AMP-BIND","Please use the object-literal syntax, e.g. \"AMP.setState({foo: 'bar'})\" instead of \"AMP.setState(foo='bar')\".");return x()},e.setStateWithExpression=function(t,e){var n=this;return this.jgt(t,e).then((function(t){return n.Igt(t)}))},e.setStateWithObject=function(t){var e=this.Ngt(t);return e?this.Igt(e):Promise.reject("Invalid state")},e.Igt=function(t){var e=this;return K().info(ue,"setState:",t),this.Tgt=this.setState(t).then((function(){return e.Ugt()})).then((function(t){t&&e.Hs.replace(t)})),this.Tgt},e.pushStateWithExpression=function(t,e){var n=this;return K().info(ue,"pushState:",t),this.jgt(t,e).then((function(t){var e=g();Object.keys(t).forEach((function(t){var r=n.hi[t];e[t]=n.Ngt(r)}));var r=function(){return n.setState(e)};return n.setState(t).then((function(){return n.Ugt()})).then((function(t){n.Hs.push(r,t)}))}))},e.Ugt=function(){var t={data:{"amp-bind":this.hi},title:this.mgt.document.title};return this.Ie.isEmbedded()?this.Ie.isTrustedViewer().then((function(e){return e?t:null})):Promise.resolve(t)},e.rescan=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(r.fast?this.Mgt.promise:this.Ogt).then((function(){return n.Qr.timeoutPromise(r.timeout||2e3,n.Lgt(t,e,r),"Timed out waiting for amp-bind to rescan.")}))},e.Lgt=function(t,e,n){var r=this;return K().info(ue,"rescan: ",t,e,n),(n.fast?this.Cgt(t,e):this.Dgt(t,e)).then((function(){if(n.update)return r.qU().then((function(e){return r.kgt(e,{constrain:t,evaluateOnly:"evaluate"===n.update})}))}))},e.Cgt=function(t,e){var n=this,r=this._gt(e),i=[],o=t.filter((function(t){return t.hasAttribute("i-amphtml-binding")}));t.forEach((function(t){var e=t.querySelectorAll("[i-amphtml-binding]");Array.prototype.push.apply(o,e)}));for(var s=this.Agt-this.numberOfBindings(),a=0;a<o.length;a++){var u=o[a];if(this.Fgt(u,s-i.length,i))break}return r.then((function(t){K().info(ue,"rescan.fast: delta=%s, total=%s",i.length-t,n.numberOfBindings())})),i.length>0?this.Bgt(i):x()},e.getState=function(t){var e=t?y(this.hi,t):void 0;return p(e)||u(e)?this.Ngt(e):e},e.getStateAsync=function(t){var e=this,n=/^[^.]*/.exec(t)[0];return this.Egt.then((function(r){var i=r.querySelector("#".concat(String(n).replace(k,I)));if(!i)throw $().createError(ue,"#".concat(n," does not exist."));return Rt(i).then((function(t){return t.getImpl(!0)})).then((function(t){return t.getFetchingPromise()})).catch((function(){})).then((function(){return e.getState(t)}))}))},e.getStateValue=function(t){var e=y(this.hi,t);return null==e?null:p(e)||u(e)?JSON.stringify(e):String(e)},e.Fr=function(t){var e,n,r=this,i=(e=this.mgt.document,n=e.documentElement,!["⚡4email","amp4email"].some((function(t){return n.hasAttribute(t)})));return this.GU=new Vt(i),this.Jgt("bind.init",[i]).then((function(){return Promise.all([r.Ggt().then((function(){return r.Mgt.resolve()})),r.zgt([t])])})).then((function(){t.addEventListener("amp:dom-update",(function(t){return r.$yt(t)}))})).then((function(){var e=a(t.querySelectorAll("AMP-STATE")).map((function(t){return Rt(t).then((function(){return t.getImpl(!1)})).then((function(t){return t.parseAndUpdate()}))}));return Promise.all(e)})).then((function(){if(r.Ie.sendMessage("bindReady",void 0),r.$gt("amp:bind:initialize"),W().development)return r.qU().then((function(t){return r.aJ(t)}))}))},e.numberOfBindings=function(){return this.ygt.reduce((function(t,e){return t+e.boundProperties.length}),0)},e.setMaxNumberOfBindingsForTesting=function(t){this.Agt=t},e.historyForTesting=function(){return this.Hs},e.Sgt=function(t){var e=this,n=[];return this.Ogt.then((function(){return Object.keys(t.state).forEach((function(r){e.Pgt.includes(r)||(delete t.state[r],n.push(r))})),n.length>0&&$().warn(ue,"Some state keys could not be premutated because they are missing the overridable attribute: "+n.join(", ")),e.setState(t.state)}))},e.addOverridableKey=function(t){this.Pgt.push(t)},e.Ggt=function(){var t=this,e=this.ampdoc.getBody().querySelectorAll("AMP-BIND-MACRO"),n=[];return e.forEach((function(t){var e=(t.getAttribute("arguments")||"").split(",").map((function(t){return t.trim()}));n.push({id:t.getAttribute("id"),argumentNames:e,expressionString:t.getAttribute("expression")})})),0==n.length?Promise.resolve(0):this.Jgt("bind.addMacros",[n]).then((function(r){return r.forEach((function(n,r){t.Vgt(n,"".concat(ue,": Parsing amp-bind-macro failed."),e[r])})),n.length}))},e.zgt=function(t){var e=this;if(!t.length)return Promise.resolve(0);var n=t.map((function(t){var n=e.Agt-e.numberOfBindings();return e.xk(t,n).then((function(t){var n=t.bindings;return t.limitExceeded&&e.Wgt(),n}))}));return Promise.all(n).then((function(t){var n=Array.prototype.concat.apply([],t);return n.length>0?e.Bgt(n):0}))},e.Wgt=function(){K().expectedError(ue,"Maximum number of bindings reached (%s). Additional elements with bindings will be ignored.",this.Agt)},e.Bgt=function(t){var e=this;return this.Jgt("bind.addBindings",[t]).then((function(n){return Object.keys(n).forEach((function(t){var r=e.ggt[t];r.length>0&&e.Vgt(n[t],"".concat(ue,': Expression compile error in "').concat(t,'".'),r[0])})),t.length}))},e._gt=function(t){if(!t.length)return Promise.resolve(0);l(this.ygt,(function(e){for(var n=0;n<t.length;n++)if(t[n].contains(e.element))return!0;return!1}));var e=[];for(var n in this.ggt){var r=this.ggt[n];l(r,(function(e){for(var n=0;n<t.length;n++)if(t[n].contains(e))return!0;return!1})),0==r.length&&(e.push(n),delete this.ggt[n])}var i=e.length;return i>0?this.Jgt("bind.removeBindingsWithExpressionStrings",[e]).then((function(){return i})):Promise.resolve(0)},e.xk=function(t,e){var n=this,r=[],i=new ve(t),o=!1,s=function(){var t=i.currentNode;if(t.nodeType!==Node.ELEMENT_NODE)return!i.nextNode();var s=t,a=e-r.length;return n.Fgt(s,a,r)&&(o=!0),!(fe.includes(t.nodeName)?i.skipSubtree():i.nextNode())||o};return new Promise((function(t){zt(n.ampdoc,(function e(i){var a=!1;if(i&&!i.didTimeout)for(;i.timeRemaining()>1&&!a;)a=s();else for(var u=0;u<250&&!a;u++)a=s();a?t({bindings:r,limitExceeded:o}):zt(n.ampdoc,e,10)}),10)}))},e.Fgt=function(t,e,n){var r=this,i=!1,o=this.qgt(t);o.length>e&&(o.length=e,i=!0),o.length>0&&this.ygt.push({element:t,boundProperties:o});var s=t.tagName;return o.forEach((function(e){var i=e.expressionString,o=e.property;n.push({tagName:s,property:o,expressionString:i}),r.ggt[i]||(r.ggt[i]=[]),r.ggt[i].push(t)})),i},e.qgt=function(t){for(var e=[],n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],s=this.Xgt(o,t);s&&e.push(s)}return e},e.Xgt=function(t,e){var n,r=e.tagName,i=t.name;if(i.length>2&&"["===i[0]&&"]"===i[i.length-1])n=i.substr(1,i.length-2);else if(i.startsWith("data-amp-bind-")&&(n=i.substr(14),e.hasAttribute("[".concat(n,"]"))))return null;if(n){if(this.GU.canBind(r,n))return{property:n,expressionString:t.value};var o=$().createError("%s: Binding to [%s] on <%s> is not allowed.",ue,n,r);this.Hgt(o,e)}return null},e.jgt=function(t,e){var n=this;return this.Ogt.then((function(){return Object.assign(e,n.hi),n.Jgt("bind.evaluateExpression",[t,e])})).then((function(t){var e=t.error,r=t.result;if(e)throw n.Vgt(e,"".concat(ue,": Expression eval failed."));return r}))},e.qU=function(){var t=this;return this.Jgt("bind.evaluateBindings",[this.hi]).then((function(e){var n=e.errors,r=e.results;return Object.keys(n).forEach((function(e){var r=t.ggt[e];if(r.length>0){var i=n[e],o=$().createError('%s: Expression evaluation error in "%s". %s',ue,e,i.message);o.stack=i.stack,t.Hgt(o,r[0])}})),K().info(ue,"evaluation:",r),r}))},e.aJ=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={};return this.ygt.forEach((function(o){var s=o.boundProperties,a=o.element;n&&!e.Kgt(n,a)||s.forEach((function(n){var o=t[n.expressionString];if(void 0!==o){var s=e.Zgt(n,a,o);if(s){var u=a.tagName,l=n.expressionString,c=n.property,h=s.actual,f=s.expected;i["".concat(u,"[").concat(c,"]").concat(f,":").concat(h)]=!0,r&&$().warn(ue,"Default value (".concat(h,") does not match first ")+"result (".concat(f,") for <").concat(u," [").concat(c,']="')+"".concat(l,'">. We recommend writing expressions with ')+"matching default values, but this can be safely ignored if intentional.")}}}))})),Object.keys(i)},e.Kgt=function(t,e){for(var n=0;n<t.length;n++)if(t[n].contains(e))return!0;return!1},e.Ygt=function(t,e){var n=[];return t.forEach((function(t){var r=t.expressionString,o=t.previousResult,s=e[r];void 0===s||function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!isFinite(n)||n<0)throw new Error("Invalid depth: "+n);if(t===e)return!0;for(var r=[{a:t,b:e,depth:n}];r.length>0;){var o=r.shift(),s=o.a,a=o.b,l=o.depth;if(l>0){if(i(s)!==i(a))return!1;if(u(s)&&u(a)){if(s.length!==a.length)return!1;for(var c=0;c<s.length;c++)r.push({a:s[c],b:a[c],depth:l-1});continue}if(s&&a&&"object"===i(s)&&"object"===i(a)){var h=Object.keys(s),f=Object.keys(a);if(h.length!==f.length)return!1;for(var d=0,v=h;d<v.length;d++){var p=v[d];r.push({a:s[p],b:a[p],depth:l-1})}continue}}if(s!==a)return!1}return!0}(s,o,20)||(t.previousResult=s,n.push({boundProperty:t,newValue:s}))})),n},e.kgt=function(t,e){var n=this,r=[];return this.ygt.forEach((function(i){if((!e.skipAmpState||"AMP-STATE"!==i.element.tagName)&&(!e.constrain||e.constrain.some((function(t){return t.contains(i.element)})))){var o=i.boundProperties,s=i.element,a=n.Ygt(o,t);e.evaluateOnly||r.push(n.Qgt(s,a))}})),Promise.all(r)},e.Qgt=function(t,e){var n=this;return 0===e.length?x():this.Gu.mutateElement(t,(function(){var r,i,o=g();if(e.forEach((function(e){var s=e.boundProperty,a=e.newValue,u=s.property,l=n.tPt(s,t,a);l&&(o[l.name]=l.value,"width"==u?r=w(a)?Number(a):r:"height"==u&&(i=w(a)?Number(a):i)),n.nPt(t,u)})),void 0===r&&void 0===i||n.Gu.forceChangeSize(t,i,r),"function"==typeof t.mutatedAttributesCallback)try{t.mutatedAttributesCallback(o)}catch(e){var s=$().createError("%s: Applying expression results (%s) failed with error,",ue,JSON.stringify(o),e);n.Hgt(s,t)}}))},e.nPt=function(t,e){var n=ce[t.tagName];if(n&&n[e]){var r="OPTION"===t.tagName?L(t,"SELECT"):t;if(r){var i=vt(this.mgt,"amp:form-value-change",null,{bubbles:!0});r.dispatchEvent(i)}}},e.tPt=function(t,e,n){var r=t.property,o=e.tagName;switch(r){case"defaulttext":e.textContent=String(n);break;case"text":var s=String(n);"TITLE"===o&&e.parentNode===this.mgt.document.head&&(this.mgt.document.title=s),"TEXTAREA"===o?e.value=s:e.textContent=s;break;case"class":for(var a=[],u=0;u<e.classList.length;u++){var l=e.classList[u];le.test(l)&&a.push(l)}if(Array.isArray(n)||"string"==typeof n)e.setAttribute("class",a.concat(n).join(" "));else if(null===n)e.setAttribute("class",a.join(" "));else{var c=$().createError('%s: "%s" is not a valid result for [class].',ue,n);this.Hgt(c,e)}break;default:var h="INPUT"===o&&r in e,f=e.getAttribute(r),d=!1;if("boolean"==typeof n?(h&&e[r]!==n&&(e[r]=n,d=!0),n&&""!==f?(e.setAttribute(r,""),d=!0):n||null===f||(e.removeAttribute(r),d=!0),d&&this.rPt(e,r,n)):"object"===i(n)&&null!==n?d=!0:n!==f&&(d=this.iPt(e,r,String(n),h)),d)return{name:r,value:n}}return null},e.rPt=function(t,e,n){if("OPTION"===t.tagName&&"selected"===e&&n&&(o=this.t,Q(o,"platform")).isSafari()){var r=L(t,"select");if(r){var i=a(r.options).indexOf(t);i>=0&&(r.selectedIndex=i)}}var o},e.iPt=function(t,e,n,r){try{return function(t,e,n,r,i){var o=t.tagName.toLowerCase(),s=e.toLowerCase(),a=function(t,e,n){return function(t){return"src"==t||"href"==t||"xlink:href"==t||"srcset"==t}(e)?function(t,e,n,r){var i;Z(!("__amp_source_origin"in F(At(i=n).search)),"Source origin is not allowed in %s",i);var o=St(r),s=At(Ot(r));if("href"==e&&!n.startsWith("#"))return _t(n,s);if("src"==e)return"amp-img"==t?oe(n,s,o):_t(n,s);if("srcset"==e){var a;try{a=kt(n)}catch(t){return $().error("URL-REWRITE","Failed to parse srcset: ",t),n}return a.stringify((function(t){return oe(t,s,o)}))}return n}(t,e,n,self.location):n}(o,s,n);if(St(self.location)&&"a"===o&&"href"===s){var u=t.getAttribute(s),l="#"===a[0],c=u&&"#"===u[0];l&&!c?(t[ie]||(t[ie]=t.getAttribute("target")),t.removeAttribute("target")):c&&!l&&t.setAttribute("target",t[ie]||"")}i&&(t[s]=a),t.setAttribute(s,a)}(t,e,n,0,r),!0}catch(r){var i=$().createError('%s: "%s" is not a valid result for [%]',ue,n,e,r);this.Hgt(i,t)}return!1},e.Zgt=function(t,e,n){var r,i,o=t.property,s=e.tagName,a=he[s];if(a&&a.includes(o))return null;switch(o){case"text":r=e.textContent,n=String(n),i=r.trim()===n.trim();break;case"class":r=[];for(var u=0;u<e.classList.length;u++){var l=e.classList[u];le.test(l)||r.push(l)}var c=[];if(Array.isArray(n))c=n;else if("string"==typeof n){var h=n.trim();h.length>0&&(c=h.split(" "))}else{var f=$().createError('%s: "%s" is not a valid result for [class].',ue,n);this.Hgt(f,e)}i=this.ePt(r,c);break;default:r=e.getAttribute(o),i=!0===n?""===r:!1===n?null===r:"number"==typeof n?Number(r)===n:r===n}return i?null:{expected:n,actual:r}},e.$yt=function(t){var e=this,n=t.target,r=n.parentNode;r&&fe.includes(r.nodeName)||(K().info(ue,"dom_update:",n),this.Dgt([n],[n],"dom_update.end").then((function(){e.$gt("amp:bind:rescan-template")})))},e.Dgt=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rescan.slow",i=0;return this._gt(e).then((function(e){return i=e,n.zgt(t)})).then((function(t){K().info(ue,"%s: delta=%s, total=%s",r,t-i,n.numberOfBindings())}))},e.Jgt=function(t,e){return function(t,e,n,r){return t.Worker?(function(t,e,n,r){at(t=rt(t),t,"amp-worker",n)}(t,0,ae),Q(t,"amp-worker").S(e,n||[],r)):Promise.reject("Worker not supported in window.")}(this.t,t,e,this.mgt)},e.Vgt=function(t,e,n){var r=$().createError("%s %s",e,t.message);return r.stack=t.stack,this.Hgt(r,n),r},e.Hgt=function(t,e){ee(t,e)},e.ePt=function(t,e){if(t.length!==e.length)return!1;for(var n=(u(t)?t:a(t)).sort(),r=(u(e)?e:a(e)).sort(),i=0;i<t.length;i++)if(n[i]!==r[i])return!1;return!0},e.Ngt=function(t){if(void 0===t)return null;try{return R(JSON.stringify(t))}catch(e){K().error(ue,"Failed to copy JSON ("+t+") with error: "+e)}return null},e.xgt=function(t){if(t)if("string"==typeof t){var e=y(this.hi,t);$().info(ue,e)}else if(t.nodeType==Node.ELEMENT_NODE){var n=$().assertElement(t);this.uPt(n)}else $().info(ue,'Invalid argument. Pass a JSON expression or an element instead e.g. AMP.printState("foo.bar") or AMP.printState($0) after selecting an element.');else $().info(ue,this.hi)},e.uPt=function(t){var e=this,n=c(this.ygt,(function(e){return e.element==t}));if(n<0)$().info(ue,"Element has no bindings:",t);else{var r=[],i=this.ygt[n].boundProperties;i.forEach((function(t){var n=t.expressionString;r.push(e.jgt(n,e.hi))})),Promise.all(r).then((function(t){var e=g();i.forEach((function(n,r){var i=n.property;e[i]=t[r]})),$().info(ue,e)}))}},e.Rgt=function(t){this.jgt(t,this.hi).then((function(t){$().info(ue,t)}))},e.initializePromiseForTesting=function(){return this.Ogt},e.setStatePromiseForTesting=function(){return this.Tgt},e.$gt=function(t){},t}(),ve=function(){function t(t){var e=Y(t.nodeType==Node.DOCUMENT_NODE?t:t.ownerDocument),n=e.documentElement.hasAttribute("i-amphtml-binding");this.oPt=n,this.currentNode=t,this.we=0,this.sPt=n?a(t.querySelectorAll("[i-amphtml-binding]")):[],n&&t.nodeType===Node.ELEMENT_NODE&&t.hasAttribute("i-amphtml-binding")&&this.sPt.unshift(t),this.aPt=n?null:e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null,!1)}var e=t.prototype;return e.nextNode=function(){if(this.oPt){if(this.we==this.sPt.length)return null;var t=this.sPt[this.we++];return this.currentNode=t,t}var e=this.aPt.nextNode();return null!==e&&(this.currentNode=e),e},e.skipSubtree=function(){if(this.oPt){var t=this.currentNode,e=null;do{e=this.nextNode()}while(null!==e&&t.contains(e));return e}for(var n=this.aPt,r=n.currentNode;r;r=n.parentNode()){var i=n.nextSibling();if(null!==i)return this.currentNode=i,i}return null},t}();t.registerServiceForDoc("bind",de),t.registerElement("amp-state",xt),t.registerElement("amp-bind-macro",_)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});