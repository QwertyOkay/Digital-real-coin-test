(self.AMP=self.AMP||[]).push({m:0,v:"2309082229000",n:"amp-video",ev:"0.1",l:!0,f:function(t,e){!function(){function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i;function r(){return i||(i=Promise.resolve(void 0))}var o=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function a(t){return new Promise((function(e){e(t())}))}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){return t?Array.prototype.slice.call(t):[]}var h=Array.isArray;function f(t){return h(t)?t:[t]}var d=Object.prototype,p=d.hasOwnProperty,v=d.toString;function g(t){var e=Object.create(null);return t&&Object.assign(e,t),e}function m(t){return"number"==typeof t&&isFinite(t)}function b(t,e,n,i,r,o,a,s,u,c,l){return t}function y(t){return JSON.parse(t)}function A(t){return(t.ownerDocument||t).defaultView}var w,M=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function S(t,e,n,i,r){return r||(e?"ï¿½":i?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function E(t){return void 0!==w?w:w=function(t){try{var e=t.ownerDocument,n=e.createElement("div"),i=e.createElement("div");return n.appendChild(i),n.querySelector(":scope div")===i}catch(t){return!1}}(t)}function P(t,e){return t.replace(/^|,/g,"$&".concat(e," "))}function _(t){b(/^[\w-]+$/.test(t))}function C(t,e){var n=t.classList,i="i-amphtml-scoped";n.add(i);var r=P(e,".".concat(i)),o=t.querySelectorAll(r);return n.remove(i),o}function k(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!n&&n.call(t,e)}function O(t,e){for(var n=t.firstElementChild;n;n=n.nextElementSibling)if(e(n))return n;return null}function x(t,e){return _(e),n=t,i="> ".concat(e),E(n)?n.querySelectorAll(P(i,":scope")):C(n,i);var n,i}var R,q,I={bubbles:!0,cancelable:!0};function j(t){var e;null===(e=t.parentElement)||void 0===e||e.removeChild(t)}function D(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n){var i=n.nextSibling;t.insertBefore(e,i)}else!function(t,e){t.insertBefore(e,t.firstChild)}(t,e)}function L(t,e){for(var n in e)t.setAttribute(n,e[n]);return t}function T(t,e,n,i){var r=n||{};b(t.ownerDocument);var o=i||I,a=o.bubbles,s=o.cancelable,u=new MessageEvent(e,{data:r,bubbles:a,cancelable:s});t.dispatchEvent(u)}function F(t,e){t.classList.add("i-amphtml-fill-content"),e&&t.classList.add("i-amphtml-replaced-content")}function V(t,e,i,r){for(var o,a=n(f(t),!0);!(o=a()).done;){var s=o.value,u=e.getAttribute(s);null!==u?i.setAttribute(s,u):r&&i.removeAttribute(s)}}function N(t){var e=t.ownerDocument||t;return R&&R.ownerDocument===e||(R=e.createElement("div")),Y}function Y(t){return function(t,e){if(b(1===e.length),b(Array.isArray(e)||(i=e,p.call(i,"raw"))),self.trustedTypes&&self.trustedTypes.createPolicy){var n=self.trustedTypes.createPolicy("static-template#createNode",{createHTML:function(t){return e[0]}});t.innerHTML=n.createHTML("ignored")}else t.innerHTML=e[0];var i,r=t.firstElementChild;return b(r),b(!r.nextElementSibling),t.removeChild(r),r}(R,t)}function U(t){var e=Object.getOwnPropertyDescriptor(t,"message");if(null!=e&&e.writable)return t;var n=t.message,i=t.stack,r=new Error(n);for(var o in t)r[o]=t[o];return r.stack=i,r}function z(t){for(var e,i=null,r="",o=n(arguments,!0);!(e=o()).done;){var a=e.value;a instanceof Error&&!i?i=U(a):(r&&(r+=" "),r+=a)}return i?r&&(i.message=r+": "+i.message):i=new Error(r),i}function G(t){var e,n;null===(e=(n=self).__AMP_REPORT_ERROR)||void 0===e||e.call(n,t)}function H(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.apply(null,n)}catch(t){!function(t){var e=z.apply(null,arguments);setTimeout((function(){throw G(e),e}))}(t)}}function B(t){var e=z.apply(null,arguments);return e.expected=!0,e}var W=["Webkit","webkit","Moz","moz","ms","O","o"],J={getPropertyPriority:function(){return""},getPropertyValue:function(){return""}};function $(t){var e=t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));return W.some((function(t){return e.startsWith(t+"-")}))?"-".concat(e):e}function Q(t,e,n){if(e.startsWith("--"))return e;q||(q=g());var i=q[e];if(!i||n){if(i=e,void 0===t[e]){var r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(e),o=function(t,e){for(var n=0;n<W.length;n++){var i=W[n]+e;if(void 0!==t[i])return i}return""}(t,r);void 0!==t[o]&&(i=o)}n||(q[e]=i)}return i}function Z(t,e,n,i,r){var o=Q(t.style,e,r);if(o){var a=i?n+i:n;t.style.setProperty($(o),a)}}function K(t,e){for(var n in e)Z(t,n,e[n])}function X(t){return null==t.__AMP_AUTOPLAY&&(t.__AMP_AUTOPLAY=function(t){var e,n=t.document.createElement("video");return n.setAttribute("muted",""),n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),n.setAttribute("height","0"),n.setAttribute("width","0"),n.muted=!0,n.playsInline=!0,n.playsinline=!0,n.webkitPlaysinline=!0,K(n,{position:"fixed",top:"0",width:"0",height:"0",opacity:"0"}),e=n,a((function(){return e.play()})).catch((function(){})),Promise.resolve(!n.paused)}(t)),t.__AMP_AUTOPLAY}function tt(t){return t.querySelector("video, iframe")}function et(t,e){var n=a((function(){return t.play(!!e)}));return n.catch((function(t){!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];G(B.apply(null,n))}("TRYPLAY",t)})),n}var nt=/vertical/,it=new WeakMap,rt=new WeakMap,ot=new WeakMap;function at(t){var e=it.get(t);return e||(e=new t.ResizeObserver(st),it.set(t,e)),e}function st(t){for(var e=new Set,n=t.length-1;n>=0;n--){var i=t[n],r=i.target;if(!e.has(r)){e.add(r);var o=rt.get(r);if(o){ot.set(r,i);for(var a=0;a<o.length;a++){var s=o[a],u=s.callback;ut(s.type,u,i)}}}}}function ut(t,e,n){if(0==t){var i=n.contentRect,r=i.height;H(e,{width:i.width,height:r})}else if(1==t){var o,a=n.borderBoxSize;if(a)o=a.length>0?a[0]:{inlineSize:0,blockSize:0};else{var s,u,c=n.target,l=A(c),h=nt.test(function(t,e){return t.getComputedStyle(e)||J}(l,c).writingMode),f=c,d=f.offsetHeight,p=f.offsetWidth;h?(u=p,s=d):(s=p,u=d),o={inlineSize:s,blockSize:u}}H(e,o)}}var ct=function(){function t(t){this.tp=t,this.py=!1,this.yy=!1,this.by=this.by.bind(this)}var e=t.prototype;return e.updatePlaying=function(t){t!==this.py&&(this.py=t,t?(this.yy=!1,function(t,e,n){var i=t.ownerDocument.defaultView;if(i){var r=rt.get(t);if(r||(r=[],rt.set(t,r),at(i).observe(t)),!r.some((function(t){return t.callback===n&&1===t.type}))){r.push({type:1,callback:n});var o=ot.get(t);o&&setTimeout((function(){return ut(1,n,o)}))}}}(this.tp,0,this.by)):function(t,e){!function(t,e,n){var i=rt.get(t);if(i&&(function(t,e){for(var i=[],r=0,o=0;o<t.length;o++){var a=t[o];(s=a).callback===n&&1===s.type?i.push(a):(r<o&&(t[r]=a),r++)}var s;r<t.length&&(t.length=r)}(i),0==i.length)){rt.delete(t),ot.delete(t);var r=t.ownerDocument.defaultView;r&&at(r).unobserve(t)}}(t,0,e)}(this.tp,this.by))},e.by=function(t){var e=t.blockSize,n=t.inlineSize>0&&e>0;if(n!==this.yy){this.yy=n;var i=this.tp;n||i.pause()}},t}();function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach((function(e){lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var dt=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return e}}function vt(t){var e,n=g();if(!t)return n;for(;e=dt.exec(t);){var i=pt(e[1],e[1]),r=e[2]?pt(e[2].replace(/\+/g," "),e[2]):"";n[i]=r}return n}function gt(t){var e=(t||self).location;return vt(e.originalHash||e.hash)}function mt(t){var e=!1,n=null,i=t;return function(){if(!e){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];n=i.apply(self,r),e=!0,i=null}return n}}var bt="";function yt(t){var e;return bt||(bt=(null===(e=t.AMP_CONFIG)||void 0===e?void 0:e.v)||"01".concat("2309082229000")),bt}function At(t,e){var n=e||gt(t);return["1","actions","amp","amp4ads","amp4email"].includes(n.development)||!!t.AMP_DEV_MODE}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var wt=self.__AMP_LOG;function Mt(t,e){throw new Error("failed to call initLogConstructor")}function St(t){return wt.user||(wt.user=Et()),function(t,e){return e&&e.ownerDocument.defaultView!=t}(wt.user.win,t)?wt.userForEmbed||(wt.userForEmbed=Et()):wt.user}function Et(t){return Mt()}function Pt(){return wt.dev||(wt.dev=Mt())}function _t(t,e,n,i,r,o,a,s,u,c,l){return t}function Ct(t,e,n,i,r,o,a,s,u,c,l){return St().assert(t,e,n,i,r,o,a,s,u,c,l)}function kt(t,e){return It(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),e)}function Ot(t,e){return It(qt(Rt(t)),e)}function xt(t,e){var n=qt(Rt(t));return Dt(n,e)?It(n,e):null}function Rt(t){return t.nodeType?(e=A(t),kt(e,"ampdoc")).getAmpDoc(t):t;var e}function qt(t){var e=Rt(t);return e.isSingleDoc()?e.win:e}function It(t,e){_t(Dt(t,e));var n=jt(t)[e];return n.obj||(_t(n.ctor),_t(n.context),n.obj=new n.ctor(n.context),_t(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function jt(t){var e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}function Dt(t,e){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!n||!n.ctor)}var Lt="__AMP__EXPERIMENT_TOGGLES";function Tt(t,e){var i=function(t){var e,i,r,o,a;if(t[Lt])return t[Lt];t[Lt]=g();var s=t[Lt];b(s);var u=ft(ft({},null!==(e=t.AMP_CONFIG)&&void 0!==e?e:{}),null!==(i=t.AMP_EXP)&&void 0!==i?i:y((null===(r=t.__AMP_EXP)||void 0===r?void 0:r.textContent)||"{}"));for(var c in u){var l=u[c];"number"==typeof l&&l>=0&&l<=1&&(s[c]=Math.random()<l)}var f=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-doc-opt-in"];if(h(f)&&f.length){var d=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(d)for(var p,v,m=n((null===(p=d.getAttribute("content"))||void 0===p?void 0:p.split(","))||[],!0);!(v=m()).done;){var A=v.value;f.includes(A)&&(s[A]=!0)}}Object.assign(s,function(t){var e,i="";try{var r;"localStorage"in t&&(i=null!==(r=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==r?r:"")}catch(t){Pt().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}for(var o,a=(null===(e=i)||void 0===e?void 0:e.split(/\s*,\s*/g))||[],s=g(),u=n(a,!0);!(o=u()).done;){var c=o.value;c&&("-"==c[0]?s[c.substr(1)]=!1:s[c]=!0)}return s}(t));var w=null===(a=t.AMP_CONFIG)||void 0===a?void 0:a["allow-url-opt-in"];if(h(w)&&w.length)for(var M,S=vt(t.location.originalHash||t.location.hash),E=n(w,!0);!(M=E()).done;){var P=M.value,_=S["e-".concat(P)];"1"==_&&(s[P]=!0),"0"==_&&(s[P]=!1)}return s}(t);return!!i[e]}var Ft,Vt,Nt,Yt=function(t){return xt(t,"action")},Ut=function(t){return kt(t,"extensions")},zt=function(t){return kt(t,"performance")},Gt=function(t){return kt(t,"platform")},Ht=function(t){return It(t,"timer")},Bt=function(t){return xt(t,"url")},Wt=function(t){return Ot(t,"viewport")};function Jt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.needsRootBounds,r=n.rootMargin,o=n.threshold,a=function(t){return t.parent&&t.parent!=t}(e)&&(i||r)?e.document:void 0;return new e.IntersectionObserver(t,{threshold:o,root:a,rootMargin:r})}function $t(t){var e,n=null===(e=Ft)||void 0===e?void 0:e.get(t);if(!n){var i=function(t){Ft||(Ft=new WeakMap,Vt=new WeakMap),b(Vt);var e=Vt.get(t);return e||(e=Jt((function(t){for(var n=new Set,i=t.length-1;i>=0;i--){var r,o=t[i].target;n.has(o)||(n.add(o),b(e),e.unobserve(o),b(Ft),null===(r=Ft.get(o))||void 0===r||r.resolve(t[i]),Ft.delete(o))}}),t,{needsRootBounds:!0}),Vt.set(t,e)),e}(A(t));b(Ft),i.observe(t),n=new o,Ft.set(t,n)}return n.promise}function Qt(t,e,n,i){var r=t,o=n,a=function(t){try{return o(t)}catch(t){var e,n;throw null===(e=(n=self).__AMP_REPORT_ERROR)||void 0===e||e.call(n,t),t}},s=function(){if(void 0!==Nt)return Nt;Nt=!1;try{var t={get capture(){return Nt=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return Nt}(),u=!(null==i||!i.capture);return r.addEventListener(e,a,s?i:u),function(){null==r||r.removeEventListener(e,a,s?i:u),o=null,r=null,a=null}}function Zt(t,e,n,i){var r={detail:n};if(Object.assign(r,i),"function"==typeof t.CustomEvent)return new t.CustomEvent(e,r);var o=t.document.createEvent("CustomEvent");return o.initCustomEvent(e,!!r.bubbles,!!r.cancelable,n),o}function Kt(t,e,n,i){return Qt(t,e,n,i)}function Xt(t,e,n,i){var r=n,o=Qt(t,e,(function(t){try{r(t)}finally{r=null,o()}}),i);return o}var te=['<button aria-label="Unmute video" class="i-amphtml-video-mask i-amphtml-fill-content" tabindex=0></button>'],ee=["<i-amphtml-video-icon class=amp-video-eq><div class=amp-video-eq-col><div class=amp-video-eq-filler></div><div class=amp-video-eq-filler></div></div></i-amphtml-video-icon>"];function ne(t,e,n){if(e[n])return e[n];var i=t.querySelector("style[".concat(n,"], link[").concat(n,"]"));return i?(e[n]=i,i):null}var ie=function(){function t(){this.fn=null}var e=t.prototype;return e.add=function(t){var e=this;return this.fn||(this.fn=[]),this.fn.push(t),function(){e.remove(t)}},e.remove=function(t){var e,n,i;this.fn&&(n=t,-1!=(i=(e=this.fn).indexOf(n))&&e.splice(i,1))},e.removeAll=function(){this.fn&&(this.fn.length=0)},e.fire=function(t){if(this.fn)for(var e,i=n(this.fn.slice(),!0);!(e=i()).done;)(0,e.value)(t)},e.getHandlerCount=function(){var t,e;return null!==(t=null===(e=this.fn)||void 0===e?void 0:e.length)&&void 0!==t?t:0},t}(),re=function(){function t(){this.ky=!1,this.Sy=new ie}var e=t.prototype;return e.onSessionEnd=function(t){this.Sy.add(t)},e.beginSession=function(){this.ky=!0},e.endSession=function(){this.ky&&this.Sy.fire(),this.ky=!1},e.isSessionActive=function(){return this.ky},t}(),oe={title:"",artist:"",album:"",artwork:[{src:""}]},ae="registered",se="load",ue="loadedmetadata",ce="play",le="playing",he="pause",fe="ended",de="muted",pe="unmuted",ve="reloaded",ge="ad_start",me="ad_end",be="playing_manual",ye="paused",Ae="video-play",we="user-interacted";function Me(t){t.signals().signal(we)}var Se="video-manager",Ee=function(){function t(t){var e=this;this.ampdoc=t,this.installAutoplayStyles=mt((function(){return function(t){!function(t,e,n,i,r){var o=t.getHeadNode();!function(t,e,n,i){var r=t.__AMP_CSS_SM;r||(r=t.__AMP_CSS_SM=g());var o="amp-extension=".concat(i);if(o){var a=ne(t,r,o);if(a)return"STYLE"==a.tagName&&a.textContent!==e&&(a.textContent=e),a}var s=(t.ownerDocument||t).createElement("style");s.textContent=e,s.setAttribute("amp-extension",i),D(t,s,ne(t,r,"amp-runtime")),o&&(r[o]=s)}(o,function(t,e){var n=t.__AMP_CSS_TR;return n?n(e):e}(o,".i-amphtml-video-mask{display:block;z-index:1;-webkit-appearance:none;appearance:none;background:transparent;border:none}.amp-video-eq{display:none}.i-amphtml-video-interface:not(amp-video) .amp-video-eq,amp-story .amp-video-eq,amp-video[controls] .amp-video-eq{display:-ms-flexbox;display:flex}[noaudio] .amp-video-eq{display:none!important}.amp-video-eq{pointer-events:none!important;-ms-flex-align:end;align-items:flex-end;bottom:7px;height:12px;opacity:0.8;overflow:hidden;position:absolute;right:7px;width:20px;z-index:1}.amp-video-eq-col{-ms-flex:1;flex:1;height:100%;margin-right:1px;position:relative}.amp-video-eq-col div{animation-name:amp-video-eq-animation;animation-timing-function:linear;animation-iteration-count:infinite;animation-direction:alternate;background-color:#fafafa;height:100%;position:absolute;width:100%;will-change:transform;animation-play-state:paused}.amp-video-eq-play .amp-video-eq-col div{animation-play-state:running}.amp-video-eq-1-1{animation-duration:0.3s;transform:translateY(60%)}.amp-video-eq-1-2{animation-duration:0.45s;transform:translateY(60%)}.amp-video-eq-2-1{animation-duration:0.5s;transform:translateY(30%)}.amp-video-eq-2-2{animation-duration:0.4s;transform:translateY(30%)}.amp-video-eq-3-1{animation-duration:0.3s;transform:translateY(70%)}.amp-video-eq-3-2{animation-duration:0.35s;transform:translateY(70%)}.amp-video-eq-4-1{animation-duration:0.4s;transform:translateY(50%)}.amp-video-eq-4-2{animation-duration:0.25s;transform:translateY(50%)}@keyframes amp-video-eq-animation{0%{transform:translateY(100%)}to{transform:translateY(0)}}\n/*# sourceURL=/css/video-autoplay.css*/"),0,"amp-video-autoplay")}(t)}(e.ampdoc)})),this.qy=null,this.jy=null,this.xy=null,this.Qr=Ht(t.win),this.Oy=Yt(t.getHeadNode()),this.Py=function(){return e.Ay()},this.My=mt((function(){return new Ce(e.ampdoc,e)})),this.Qr.delay(this.Py,1e3)}var e=t.prototype;return e.dispose=function(){if(this.My().dispose(),this.jy.disconnect(),this.jy=null,this.qy)for(var t=0;t<this.qy.length;t++)this.qy[t].dispose()},e.Ay=function(){for(var t=0;t<this.qy.length;t++){var e=this.qy[t];e.getPlayingState()!==ye&&(qe(e,"video-seconds-played"),this.Ey(e))}this.Qr.delay(this.Py,1e3)},e.Ey=function(t){var e="timeUpdate",n=t.video.getCurrentTime(),i=t.video.getDuration();if(m(n)&&m(i)&&i>0){var r=n/i,o=Zt(this.ampdoc.win,"".concat(Se,".").concat(e),{time:n,percent:r});this.Oy.trigger(t.video.element,e,o,1)}},e.register=function(t){var e=this;_t(t);var n=t;if(this.Ty(t),t.supportsPlatform()&&!this.Cy(t)){this.jy||(this.jy=Jt((function(t){return t.forEach((function(t){var n=t.isIntersecting,i=t.target;e.Yy(i).updateVisibility(n)}))}),this.ampdoc.win,{threshold:.5})),this.jy.observe(n.element),Kt(n.element,ve,(function(){return i.videoLoaded()})),this.qy=this.qy||[];var i=new _e(this,t);this.qy.push(i);var r=i.video.element;T(r,ae),function(t){t.classList.add("i-amphtml-media-component")}(r),t.signals().signal(ae),r.classList.add("i-amphtml-video-interface")}},e.Ty=function(t){n("play",(function(){return et(t,!1)})),n("pause",(function(){return t.pause()})),n("mute",(function(){return t.mute()})),n("unmute",(function(){return t.unmute()}));var e=function(){return t.fullscreenEnter()};function n(e,n){t.registerAction(e,(function(){Me(t),n()}),1)}n("fullscreenenter",e),n("fullscreen",e)},e.Cy=function(t){if(Pe(this.xy,t))return this.xy;for(var e=0;this.qy&&e<this.qy.length;e++){var n=this.qy[e];if(Pe(n,t))return this.xy=n,n}return null},e.Yy=function(t){return _t(this.Cy(t))},e.registerForAutoFullscreen=function(t){this.My().register(t)},e.zy=function(){return this.My()},e.getVideoStateProperty=function(t,e){var n=this.ampdoc.getRootNode(),i=St().assertElement(n.getElementById(t),'Could not find an element with id="'.concat(t,'" for VIDEO_STATE')),o=this.Yy(i);return(o?o.getAnalyticsDetails():r()).then((function(t){return t?t[e]:""}))},e.getPlayingState=function(t){return this.Yy(t).getPlayingState()},e.isMuted=function(t){return this.Yy(t).isMuted()},e.userInteracted=function(t){return this.Yy(t).userInteracted()},e.isRollingAd=function(t){return this.Yy(t).isRollingAd()},e.pauseOtherVideos=function(t){this.qy.forEach((function(e){e.isPlaybackManaged()&&e!==t&&e.getPlayingState()==be&&e.video.pause()}))},t}(),Pe=function(t,e){return!!t&&(t.video===e||t.video.element===e)},_e=function(){function t(t,e){var n=this;this.Uy=t,this.Pi=t.ampdoc,this.video=e,this.Ny=!0,this.Fy=!1,this.py=!1,this.Ly=!1,this.Yi=!1,this._y=new re,this._y.onSessionEnd((function(){return qe(n,"video-session")})),this.Jy=new re,this.Jy.onSessionEnd((function(){return qe(n,"video-session-visible")})),this.Wy=mt((function(){return new Re(n.Pi.win,n)})),this.By=!1,this.Dy=!1,this.$y=null,this.G=!1,this.Gy=!1,this.hasAutoplay=e.element.hasAttribute("autoplay"),this.hasAutoplay&&this.Uy.installAutoplayStyles(),this.Vy=oe,this.Hy=function(){et(n.video,!1)},this.Zy=function(){n.video.pause()},Kt(e.element,se,(function(){return n.videoLoaded()})),Kt(e.element,he,(function(){return n.Ky()})),Kt(e.element,ce,(function(){n.Gy=!0,qe(n,Ae)})),Kt(e.element,le,(function(){return n.Qy()})),Kt(e.element,de,(function(){return n.G=!0})),Kt(e.element,pe,(function(){n.G=!1,n.Uy.pauseOtherVideos(n)})),Kt(e.element,"amp:video:tick",(function(t){var e=t.data,i=e.eventType;i&&n.Xy(i,e.vars)})),Kt(e.element,fe,(function(){n.Ly=!1,qe(n,"video-ended")})),Kt(e.element,ge,(function(){n.Ly=!0,qe(n,"video-ad-start")})),Kt(e.element,me,(function(){n.Ly=!1,qe(n,"video-ad-end")})),e.signals().whenSignal(ae).then((function(){return n.mb()})),this.yb=mt((function(){var t="firstPlay",e=Zt(n.Pi.win,t,{}),i=n.video.element;Yt(i).trigger(i,t,e,1)})),this.bb()}var e=t.prototype;return e.dispose=function(){this.Wy().stop()},e.Xy=function(t,e){var n=lt({},"__amp:eventType",t);Object.keys(e).forEach((function(t){n["custom_".concat(t)]=e[t]})),qe(this,"video-hosted-custom",n)},e.bb=function(){var t=this;this.video.signals().whenSignal("playback-delegated").then((function(){t.Ny=!1,t.py&&t.video.pause()}))},e.isMuted=function(){return this.G},e.isPlaybackManaged=function(){return this.Ny},e.mb=function(){this.gb()&&this.Uy.registerForAutoFullscreen(this),this.hasAutoplay&&this.wb()},e.gb=function(){var t=this.video.element;return!(this.video.preimplementsAutoFullscreen()||!t.hasAttribute("rotate-to-fullscreen"))&&Ct(this.video.isInteractive(),"Only interactive videos are allowed to enter fullscreen on rotate. Set the `controls` attribute on %s to enable.",t)},e.Qy=function(){this.py=!0,this.getPlayingState()==be&&(this.yb(),this.Uy.pauseOtherVideos(this));var t,e,n,i,r,o=this.video,a=o.element;o.preimplementsMediaSessionAPI()||a.classList.contains("i-amphtml-disable-mediasession")||(function(t,e){var n=Bt(t);if(e&&e.artwork){var i=e.artwork;_t(h(i)),i.forEach((function(t){if(t){var e=(i=t,"[object Object]"===v.call(i)?t.src:t);Ct(n.isProtocolValid(e))}var i}))}}(a,this.Vy),t=this.Pi.win,e=this.Vy,n=this.Hy,i=this.Zy,"mediaSession"in(r=t.navigator)&&t.MediaMetadata&&(r.mediaSession.metadata=new t.MediaMetadata(oe),r.mediaSession.metadata=new t.MediaMetadata(e),r.mediaSession.setActionHandler("play",n),r.mediaSession.setActionHandler("pause",i))),this._y.beginSession(),this.Yi&&this.Jy.beginSession(),this.Gy||qe(this,Ae)},e.Ky=function(){qe(this,"video-pause"),this.py=!1,this.Dy?this.Dy=!1:this._y.endSession()},e.videoLoaded=function(){this.Fy=!0,this.$y=tt(this.video.element),this.kb(),this.Wy().start(),this.Yi&&this.Sb()},e.kb=function(){if(!this.video.preimplementsMediaSessionAPI()){this.video.getMetadata()&&(this.Vy=g(this.video.getMetadata()));var t=this.Pi.win.document;if(!this.Vy.artwork||0==this.Vy.artwork.length){var e=function(t){var e=t.querySelector('script[type="application/ld+json"]');if(e){var n=function(t,e){try{return y(t)}catch(t){return null}}(e.textContent);if(n&&n.image)return"string"==typeof n.image?n.image:n.image["@list"]&&"string"==typeof n.image["@list"][0]?n.image["@list"][0]:"string"==typeof n.image.url?n.image.url:"string"==typeof n.image[0]?n.image[0]:void 0}}(t)||function(t){var e=t.querySelector('meta[property="og:image"]');return e?e.getAttribute("content"):void 0}(t)||function(t){var e=t.querySelector('link[rel="shortcut icon"]')||t.querySelector('link[rel="icon"]');return e?e.getAttribute("href"):void 0}(t);e&&(this.Vy.artwork=[{src:e}])}if(!this.Vy.title){var n=this.video.element.getAttribute("title")||this.video.element.getAttribute("aria-label")||this.$y.getAttribute("title")||this.$y.getAttribute("aria-label")||t.title;n&&(this.Vy.title=n)}}},e.qb=function(){this.Fy&&this.Sb()},e.Sb=function(){var t=this;this.Pi.isVisible()&&X(this.Pi.win).then((function(e){t.hasAutoplay&&!t.userInteracted()&&e?t.jb():t.xb()}))},e.wb=function(){var t=this;this.video.isInteractive()&&this.video.hideControls(),X(this.Pi.win).then((function(e){e||!t.video.isInteractive()?(t.video.mute(),t.Ob()):t.video.showControls()}))},e.Ob=function(){var t=this,e=this.video,n=this.video,i=n.element;if(n.win,!i.hasAttribute("noaudio")&&!i.signals().get(we)){var r=function(t,e){for(var n=N(e)(ee),i=n.firstElementChild,r=0;r<4;r++){for(var o=i.cloneNode(!0),a=o.children,s=0;s<a.length;s++)a[s].classList.add("amp-video-eq-".concat(r+1,"-").concat(s+1));n.appendChild(o)}return j(i),n}(0,i),o=[r],a=[Kt(i,he,(function(){return c(!1)})),Kt(i,le,(function(){return c(!0)})),Kt(i,ge,(function(){u(!1),e.showControls()})),Kt(i,me,(function(){u(!0),e.hideControls()})),Kt(i,pe,(function(){return Me(e)}))];if(e.isInteractive()){e.hideControls();var s=function(t,e){var n=N(t)(te);return e&&e.title&&n.setAttribute("aria-label",e.title),n}(i,this.Vy);o.push(s),a.push(Kt(s,"click",(function(){return Me(e)})))}e.mutateElementSkipRemeasure((function(){o.forEach((function(t){i.appendChild(t)}))})),this.Ly&&u(!1),e.signals().whenSignal(we).then((function(){t.yb(),e.isInteractive()&&e.showControls(),e.unmute(),a.forEach((function(t){t()})),e.mutateElementSkipRemeasure((function(){o.forEach((function(t){j(t)}))}))}))}function u(t){e.mutateElementSkipRemeasure((function(){o.forEach((function(e){!function(t,e){void 0===e&&(e=t.hasAttribute("hidden")),e?t.removeAttribute("hidden"):t.setAttribute("hidden","")}(e,t)}))}))}function c(t){e.mutateElementSkipRemeasure((function(){return r.classList.toggle("amp-video-eq-play",t)}))}},e.jb=function(){this.Ny&&(this.Yi?(this.Jy.beginSession(),et(this.video,!0),this.By=!0):(this.py&&this.Jy.endSession(),this.video.pause(),this.Dy=!0))},e.xb=function(){this.Yi?this.Jy.beginSession():this.py&&this.Jy.endSession()},e.updateVisibility=function(t){var e=this.Yi;this.Yi=t,t!=e&&this.qb()},e.getPlayingState=function(){return this.py?this.py&&this.By&&!this.userInteracted()?"playing_auto":be:ye},e.isRollingAd=function(){return this.Ly},e.userInteracted=function(){return null!=this.video.signals().get(we)},e.getAnalyticsDetails=function(){var t=this,e=this.video;return Promise.all([X(this.Pi.win),$t(e.element)]).then((function(n){var i=n[0],r=n[1].boundingClientRect,o=r.height,a=r.width,s=t.hasAutoplay&&i,u=e.getPlayedRanges(),c=u.reduce((function(t,e){return t+e[1]-e[0]}),0);return{autoplay:s,currentTime:e.getCurrentTime(),duration:e.getDuration(),height:o,id:e.element.id,muted:t.G,playedTotal:c,playedRangesJson:JSON.stringify(u),state:t.getPlayingState(),width:a}}))},t}(),Ce=function(){function t(t,e){var n=this;this.Uy=e,this.Pi=t,this.Pb=null,this.Ab=null,this.qy=[],this.Mb=[],this.Rb=function(){return n.Eb()},this.Tb=function(t){return n.Ib(t)==be},this.Cb=function(t,e){return n.Yb(t,e)},this.zb(),this.Ub()}var e=t.prototype;return e.dispose=function(){this.Mb.forEach((function(t){return t()})),this.Mb.length=0},e.register=function(t){var e=t.video,n=e.element;this.Nb(n)&&(this.qy.push(e),Kt(n,he,this.Rb),Kt(n,le,this.Rb),Kt(n,fe,this.Rb),e.signals().whenSignal(we).then(this.Rb),this.Eb())},e.Ub=function(){var t=this,e=this.Pi.getRootNode(),n=function(){return t.Fb()};this.Mb.push(Kt(e,"webkitfullscreenchange",n),Kt(e,"mozfullscreenchange",n),Kt(e,"fullscreenchange",n),Kt(e,"MSFullscreenChange",n))},e.isInLandscape=function(){return(t=this.Pi.win).screen&&"orientation"in t.screen?t.screen.orientation.type.startsWith("landscape"):90==Math.abs(t.orientation);var t},e.Nb=function(t){if("video"==tt(t).tagName.toLowerCase())return!0;var e=Gt(this.Pi.win);return!e.isIos()&&!e.isSafari()||function(t){return!!{"amp-dailymotion":!0,"amp-ima-video":!0}[t.tagName.toLowerCase()]}(t)},e.Fb=function(){this.Pb=null},e.zb=function(){var t=this,e=this.Pi.win,n=e.screen;if(n&&"orientation"in n){var i=n.orientation;this.Mb.push(Kt(i,"change",(function(){return t.Lb()})))}this.Mb.push(Kt(e,"orientationchange",(function(){return t.Lb()})))},e.Lb=function(){this.isInLandscape()?null!=this.Ab&&this._b(this.Ab):this.Pb&&this.Jb(this.Pb)},e._b=function(t){var e=Gt(this.Pi.win);this.Pb=t,e.isAndroid()&&e.isChrome()?t.fullscreenEnter():this.Wb(t).then((function(){return t.fullscreenEnter()}))},e.Jb=function(t){this.Pb=null,this.Wb(t,"center").then((function(){return t.fullscreenExit()}))},e.Wb=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.element,i=this.Bb();return this.Db().then((function(){return $t(n)})).then((function(t){var o=t.boundingClientRect,a=o.bottom,s=o.top,u=i.getSize().height;if(s>=0&&a<=u)return r();var c=e||(a>u?"bottom":"top");return i.animateScrollIntoView(n,c)}))},e.Bb=function(){return Wt(this.Pi)},e.Db=function(){return Ht(this.Pi.win).promise(330)},e.Eb=function(){var t=this;if(this.isInLandscape())return Promise.resolve(this.Ab);this.Ab=null;var e=this.qy.filter(this.Tb).map((function(t){return $t(t.element)}));return Promise.all(e).then((function(e){var n=e.sort(t.Cb)[0];return n&&n.intersectionRatio>.5?n.target.getImpl().then((function(e){return t.Ab=e})):t.Ab}))},e.Yb=function(t,e){var n=t.boundingClientRect,i=t.intersectionRatio,r=e.boundingClientRect,o=i-e.intersectionRatio;if(Math.abs(o)>.1)return o;var a=Wt(this.Pi),s=ke(a,n),u=ke(a,r);return s<u||s>u?s-u:n.top-r.top},e.Ib=function(t){return this.Uy.getPlayingState(t)},t}();function ke(t,e){var n=e.top+e.height/2,i=t.getSize().height/2;return Math.abs(n-i)}function Oe(t){return 10*t*5}var xe=function(t){return!!t&&!isNaN(t)&&t>1},Re=function(){function t(t,e){this.Qr=Ht(t),this.$b=e,this.Mb=null,this.Gb=0,this.Vb=0}var e=t.prototype;return e.start=function(){var t=this,e=this.$b.video.element;this.stop(),this.Mb=this.Mb||[],this.Hb()?this.Zb(this.Vb):this.Mb.push(Xt(e,ue,(function(){t.Hb()&&t.Zb(t.Vb)}))),this.Mb.push(Kt(e,fe,(function(){t.Hb()&&t.Kb(100)})))},e.stop=function(){if(this.Mb){for(;this.Mb.length>0;)this.Mb.pop()();this.Vb++}},e.Hb=function(){var t=this.$b.video,e=t.getDuration();if(!xe(e))return!1;if(Oe(e)<250){var n=Math.ceil(5);this.Qb("This video is too short for `video-percentage-played`. Reports may be innacurate. For best results, use videos over",n,"seconds long.",t.element)}return!0},e.Qb=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];St().warn.apply(St(),[Se].concat(e))},e.Zb=function(t){var e,n=this;if(t==this.Vb){var i=this.$b,r=this.Qr,o=i.video,a=function(){return n.Zb(t)};if(i.getPlayingState()!=ye){var s=o.getDuration();if(xe(s)){var u=(e=Oe(s),b(!0),Math.min(Math.max(e,250),4e3)),c=o.getCurrentTime()/s*100,l=5*Math.floor(c/5);_t(m(l)),this.Kb(l),r.delay(a,u)}else r.delay(a,500)}else r.delay(a,500)}},e.Kb=function(t){t<=0||this.Gb!=t&&(this.Gb=t,this.Xb(t))},e.Xb=function(t){qe(this.$b,"video-percentage-played",{normalizedPercentage:t.toString()})},t}();function qe(t,e,n){var i=t.video;t.getAnalyticsDetails().then((function(t){n&&Object.assign(t,n),T(i.element,e,t)}))}var Ie,je=function(){function t(t,e){this.win=t,this.ri=e}return t.make=function(e,n){if(e.WeakRef)return new e.WeakRef(n);if(!n.id){var i=e.__AMP_WEAKREF_ID=(e.__AMP_WEAKREF_ID||0)+1;n.id="weakref-id-"+i}return new t(e,n.id)},t.prototype.deref=function(){return this.win.document.getElementById(this.ri)||void 0},t}(),De="amp-video",Le={"slow-2g":50,"2g":50,"3g":1e3,"4g":2500,"5g":5e3},Te="i-amphtml-is-video-fully-loaded-override-for-testing",Fe=function(){function t(t){this.win=t,this.pg="",this.bg=this.yg(),this.gg=[]}var e=t.prototype;return e.manage=function(t){var e=this;Tt(this.win,"flexible-bitrate")&&(t.changedSources||(function(t,e){Kt(t,"waiting",(function(){if(!(t.readyState<1||Ne(t)>.99)){var n=null,i=Xt(t,"playing",(function(){clearTimeout(n)}));n=setTimeout((function(){i(),e()}),100)}}))}(t,(function(){return e.wg(t)})),Kt(t,"downgrade",(function(){return e.wg(t)})),t.changedSources=function(){e.jg(t)},this.gg.push(je.make(this.win,t))))},e.wg=function(t){var e=function(t){return _t(Ve(t,(function(e){return e.src==t.currentSrc})))}(t),n=e.kg-1;n>=this.bg||(this.bg=n,this.Og(t,e.kg),this.xg())},e.Sg=function(){var t=this.win.navigator.connection;return t&&t.effectiveType?t.effectiveType:"4g"},e.yg=function(){return this.pg!=this.Sg()&&(this.pg=this.Sg(),this.bg=Le[this.pg]||Le["4g"]),this.bg},e.jg=function(t){var e=this,n=l(x(t,"source"));n.forEach((function(t){if(!t.kg){var e=t.getAttribute("data-bitrate");t.kg=e?parseInt(e,10):Number.POSITIVE_INFINITY}}));var i=!1;return n.sort((function(t,n){var r=e.qg(n)-e.qg(t);return r<0&&(i=!0),r})),i&&n.forEach((function(e){t.appendChild(e)})),i},e.qg=function(t){var e=t.kg;return e>this.yg()&&(e*=-1),e},e.Eg=function(t,e){return!!Ve(t,(function(t){return t.kg<e}))},e.Og=function(t,e){if(this.Eg(t,e)){var n=t.currentTime;t.pause(),this.jg(t)?(t.load(),Xt(t,"loadedmetadata",(function(){t.currentTime=n,et(t),Pt().fine(De,"Playing at lower bitrate %s",t.currentSrc)}))):et(t)}else Pt().fine(De,"No lower bitrate available")},e.xg=function(){for(var t=this.gg.length-1;t>=0;t--){var e=this.gg[t].deref();e?e.paused&&!((n=e).hasAttribute(Te)?"true"===n.getAttribute(Te):Ne(n)>.8)&&this.jg(e)&&e.load():this.gg.splice(t,1)}var n},t}();function Ve(t,e){return O(t,(function(t){return"SOURCE"==t.tagName&&e(t)}))}function Ne(t){if(!t.duration)return 0;for(var e=0,n=0;n<t.buffered.length;n++)e+=t.buffered.end(n)-t.buffered.start(n);return e/t.duration}function Ye(t,e){if(!!e!==e&&null!=e)if(Array.isArray(e))e.forEach((function(e){Ye(t,e)}));else{var n=e;t.appendChild(n.nodeType?n:self.document.createTextNode(String(e)))}}function Ue(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if("string"!=typeof t)return t(ft(ft({},e),{},{children:i}));var o=null==e?void 0:e.xmlns;o&&delete e.xmlns;var a=o?self.document.createElementNS(o,t):self.document.createElement(t);return Ye(a,i),e&&Object.keys(e).forEach((function(t){!function(t,e,n){if(!1!==n&&null!=n)if("function"!=typeof n||"o"!==e[0]||"n"!==e[1])t.setAttribute(e,!0===n?"":String(n));else{var i=e.toLowerCase().substring(2);t.addEventListener(i,n)}}(a,t,e[t])})),a}var ze,Ge,He=function(){function t(t){this.dr=t,this.pr=0,this.mr=0,this.yr=g()}var e=t.prototype;return e.has=function(t){return!!this.yr[t]},e.get=function(t){var e=this.yr[t];if(e)return e.access=++this.mr,e.payload},e.put=function(t,e){this.has(t)||this.pr++,this.yr[t]={payload:e,access:this.mr},this.wr()},e.wr=function(){if(!(this.pr<=this.dr)){var t,e=this.yr,n=this.mr+1;for(var i in e){var r=e[i].access;r<n&&(n=r,t=i)}void 0!==t&&(delete e[t],this.pr--)}},t}(),Be=function(t){return"string"==typeof t?We(t):t};function We(t,e){return ze||(ze=self.document.createElement("a"),Ge=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new He(100))),function(t,e,n){if(n&&n.has(e))return n.get(e);t.href=e,t.protocol||(t.href=t.href);var i,r={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==r.pathname[0]&&(r.pathname="/"+r.pathname),("http:"==r.protocol&&80==r.port||"https:"==r.protocol&&443==r.port)&&(r.port="",r.host=r.hostname),i=t.origin&&"null"!=t.origin?t.origin:"data:"!=r.protocol&&r.host?r.protocol+"//"+r.host:r.href,r.origin=i;var o=r;return n&&n.put(e,o),o}(ze,t,e?null:Ge)}function Je(t,e){return function(t,e,n){if(!e)return t;var i=t.split("#",2),r=i[0].split("?",2);return r[0]+(r[1]?"?".concat(r[1],"&").concat(e):"?".concat(e))+(i[1]?"#".concat(i[1]):"")}(t,function(t){var e,n,i=[];for(var r in t){var o=t[r];if(null!=o){o=f(o);for(var a=0;a<o.length;a++)i.push((e=r,n=o[a],"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n))))}}return i.join("&")}(e))}var $e=["h264","vp09"];function Qe(t,e){var n=e.win;if(function(t,e){return t===e.document.querySelector("amp-story-page:first-of-type amp-video")}(t,n)){var i=n.document.getElementById("amp-google-video-cache-response");try{var r=JSON.parse(i.textContent);if(r.sources)return Promise.resolve(r)}catch(t){}}var a=Ot(n.document,"documentInfo").get(),s=a.canonicalUrl,u=a.sourceUrl;!function(t,e){if(t.hasAttribute("src")){var n=e.document.createElement("source"),i=t.getAttribute("src");n.setAttribute("src",i);var r=t.getAttribute("type");r&&n.setAttribute("type",r),t.removeAttribute("src"),t.removeAttribute("type"),t.querySelectorAll("source").forEach(j),t.insertBefore(n,t.firstChild)}}(t,n);var c,h,f=(c=function(t){for(var e,n=l(t.querySelectorAll("source[src]")),i=0;i<n.length;i++)if(k(n[i],'[type*="video/mp4"]'))return n[i].getAttribute("src");return null===(e=n[0])||void 0===e?void 0:e.getAttribute("src")}(t),h=Be(h=u),"function"==typeof URL?new URL(c,h.href).toString():function(t,e){e=Be(e);var n=We(t=t.replace(/\\/g,"/"));return t.toLowerCase().startsWith(n.protocol)?n.href:t.startsWith("//")?e.protocol+t:t.startsWith("/")?e.origin+t:e.origin+e.pathname.replace(/\/[^/]*$/,"/")+t}(c,h));return function(t,e){return Ut(e.win).installExtensionForDoc(e,"amp-cache-url").then((function(){return function(t,e){return function(t,e){var n=function(t,e){var n=jt(t)[e];return n?n.promise?n.promise:(It(t,e),n.promise=Promise.resolve(n.obj)):null}(t,e);if(n)return n;var i,r,a,s,u=jt(t);return u[e]=(r=(i=new o).promise,a=i.reject,s=i.resolve,r.catch((function(){})),{obj:null,promise:r,resolve:s,reject:a,context:null,ctor:null}),u[e].promise}(qt(t),"cache-url")}(t)}))}(t,e).then((function(t){return t.createCacheUrl(f)})).then((function(t){var e,i=Je(t.replace(/\/[ic]\//,"/mbv/"),{amp_video_host_url:s,amp_video_require_acao_header:1});return(e=n,kt(e,"xhr")).fetch(i,{prerenderSafe:!0}).then((function(t){return t.json()}))}))}var Ze=["<i-amphtml-poster></i-amphtml-poster>"],Ke="amp-video",Xe=["aria-describedby","aria-label","aria-labelledby","controls","crossorigin","disableremoteplayback","controlsList","title"],tn={high:2e3,medium:720,low:400},en=["loop","poster","preload"],nn=Xe.concat(en),rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(o,t);var e,n,i=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=u(e);if(n){var r=u(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(t){var e;return(e=i.call(this,t)).Mg=null,e.G=!1,e.Vy=oe,e.Mb=[],e._g=null,e.Pg=null,e.gy=new ct(e.element),e.Rg=!1,e}o.prerenderAllowed=function(t){if(t.getAttribute("poster")||t.hasAttribute("cache"))return!0;var e=l(x(t,"source"));e.push(t);for(var n=0;n<e.length;n++)if(on(e[n],t))return!0;return!1};var a=o.prototype;return a.preconnectCallback=function(t){var e=this;this.Ag().forEach((function(n){var i;(i=e.win,kt(i,"preconnect")).url(e.getAmpDoc(),n,t)}))},a.Ag=function(){var t=this.element.getAttribute("src");if(t)return[t];var e=[];return l(x(this.element,"source")).forEach((function(t){var n=t.getAttribute("src");n&&e.push(n);var i=t.getAttribute("amp-orig-src");i&&e.push(i)})),e},a.isLayoutSupported=function(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)},a.buildCallback=function(){var t=this.element;this.Tg(),this.Mg=t.ownerDocument.createElement("video");var e,n,i,o=t.getAttribute("poster");!o&&(i=self,i.__AMP_MODE?i.__AMP_MODE:i.__AMP_MODE=function(t){return{localDev:!1,development:At(t,gt(t)),esm:!1,test:!1,rtvVersion:yt(t),ssrReady:!1}}(i)).development&&console.error('No "poster" attribute has been provided for amp-video.'),this.Mg.setAttribute("playsinline",""),this.Mg.setAttribute("webkit-playsinline",""),this.Mg.setAttribute("preload","none"),this.Ig(),V(Xe,this.element,this.Mg,!0),this.Ng(),F(this.Mg,!0),e=this.element,n=this.Mg,e.hasAttribute("object-fit")&&Z(n,"object-fit",e.getAttribute("object-fit")),e.hasAttribute("object-position")&&Z(n,"object-position",e.getAttribute("object-position")),t.appendChild(this.Mg);var a,s,u,c=t.getAttribute("artist"),l=t.getAttribute("title"),h=t.getAttribute("album"),f=t.getAttribute("artwork");if(this.Vy={title:l||"",artist:c||"",album:h||"",artwork:[{src:f||o||""}]},this.Pg=!!this.element.querySelector("source[data-bitrate]")||this.element.hasAttribute("cache")||this.Yg(),"video-manager",s=Ee,function(t,e,n,i,r,o){var a=jt(t),s=a[n];s||(s=a[n]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}),s.ctor||(s.ctor=i,s.context=e,s.sharedInstance=!1,s.resolve&&It(t,n))}(qt(u=Rt(t)),u,"video-manager",s),(a=t,Ot(a,"video-manager")).register(this),this.element.hasAttribute("cache"))return this.zg(),function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY,o=e.win;if(Gt(o).isBot())return r();t.hasAttribute("crossorigin")||t.setAttribute("crossorigin","");var a=t.getAttribute("src"),s=null===(n=t.querySelector("source[src]"))||void 0===n?void 0:n.getAttribute("src");return a||s?(zt(e.win).addEnabledExperiment("video-cache"),Qe(t,e).then((function(e){(function(t,e,n){e.sort((function(t,e){var n,i,r=null===(n=t.codec)||void 0===n?void 0:n.split(".")[0],o=null===(i=e.codec)||void 0===i?void 0:i.split(".")[0],a=$e.indexOf(r),s=$e.indexOf(o);if(a>s)return 1;if(a<s)return-1;var u=t.bitrate_kbps,c=e.bitrate_kbps;return u>c?1:u<c?-1:0})).forEach((function(e){if(!(e.bitrate_kbps>n)){var i=e.type;e.codec&&"h264"!==e.codec&&(i+="; codecs="+e.codec);var r,o,a=(r=t.ownerDocument,o={src:e.url,type:i,"data-bitrate":e.bitrate_kbps,"i-amphtml-video-cached-source":""},L(r.createElement("source"),o));t.insertBefore(a,t.firstChild)}}))})(t,e.sources,i),Tt(o,"story-video-cache-apply-audio")&&function(t,e){!1===e&&t.setAttribute("noaudio","")}(t,e.has_audio),function(t,e){if(e&&e.src&&e.srclang&&!t.querySelector("track")){var n=Ue("track",{src:e.src,srclang:e.srclang,kind:"captions"}),i=Ue("amp-story-captions",{id:e.src,"style-preset":"default",layout:"container","auto-append":!0});t.setAttribute("captions-id",e.src),t.appendChild(n),t.appendChild(i)}}(t,e.captions)})).catch((function(){}))):(St().error("AMP-VIDEO","Video cache not properly configured"),r())}(this.element,this.getAmpDoc(),this.Ug())},a.Ig=function(){var t=this.element.getAttribute("alt"),e=this.element.hasAttribute("title"),n=this.element.hasAttribute("aria-label");!t||e||n||this.element.setAttribute("aria-label",t)},a.detachedCallback=function(){this.Cg(!1)},a.Tg=function(){var t=this.element;(function(t){return!!function(t,e){return t.closest?t.closest(e):function(t,e,n){var i;for(i=t;i&&void 0!==i;i=i.parentElement)if(e(i))return i;return null}(t,(function(t){return k(t,e)}))}(t,"amp-story")})(t)&&["i-amphtml-disable-mediasession","i-amphtml-poolbound"].forEach((function(e){t.classList.add(e)}))},a.mutatedAttributesCallback=function(t){if(this.Mg){var e=this.element;if(t.src&&(this.Lg().assertHttpsUrl(e.getAttribute("src"),e),V(["src"],this.element,this.Mg)),V(nn.filter((function(e){return void 0!==t[e]})),this.element,this.Mg,!0),t.src&&T(e,ve),t.artwork||t.poster){var n=e.getAttribute("artwork"),i=e.getAttribute("poster");this.Vy.artwork=[{src:n||i||""}]}if(t.album){var r=e.getAttribute("album");this.Vy.album=r||""}if(t.title){var o=e.getAttribute("title");this.Vy.title=o||""}if(t.artist){var a=e.getAttribute("artist");this.Vy.artist=a||""}}},a.layoutCallback=function(){var t,e=this;if(this.Mg=this.Mg,!this.Wg())return this.toggleFallback(!0),r();V(en,this.element,this.Mg,!0),this.Dg(),this.Fg((function(){return e.Vg()})),this.$g(),"prerender"==this.getAmpDoc().getVisibilityState()||"preview"==this.getAmpDoc().getVisibilityState()?(this.element.hasAttribute("preload")||this.Mg.setAttribute("preload","auto"),t=this.getAmpDoc().whenFirstVisible().then((function(){return e.Jg(),Ht(e.win).promise(1).then((function(){if(!e.Bg())return e.loadPromise(e.Mg)}))}))):this.Jg();var n=this.loadPromise(this.Mg).then(null,(function(e){if(t)return t;throw e})).then((function(){return e.Gg()}));return"none"!==this.element.getAttribute("preload")?this.Bg()?t:n:void 0},a.Xg=function(t){var e=this;if(this.Mg.error&&this.Mg.error.code==MediaError.MEDIA_ERR_DECODE&&(St().error(Ke,"Decode error in ".concat(this.Mg.currentSrc),this.element),!this.Mg.src)){var n=0,i=O(this.Mg,(function(t){return"SOURCE"==t.tagName&&(n++,t.src==e.Mg.currentSrc)}));0!=n&&(j(i),t.stopImmediatePropagation(),this.Mg.load(),this.play(!1))}},a.zg=function(){this.Zg().forEach((function(t){t.setAttribute("src",t.getAttribute("amp-orig-src")),t.removeAttribute("amp-orig-src")}))},a.$g=function(){var t=this;_t(this.Mg);var e=l(x(this.element,"source"));if(this.element.hasAttribute("src")&&on(this.element)){var n=this.element.getAttribute("src"),i=this.element.getAttribute("type"),r=this.Hg(n,i),o=this.element.getAttribute("amp-orig-src");r.setAttribute("amp-orig-src",o),this.element.removeAttribute("src"),this.element.removeAttribute("type"),e.unshift(r)}e.forEach((function(e){if(on(e,t.element)){e.remove();var n=Object.keys(tn),i=e.getAttribute("type"),r=e.getAttribute("amp-orig-src"),o=t.Ug();n.forEach((function(a,s){if(!(o<tn[a])){var u=Je(e.src,{amp_video_quality:a}),c=t.Hg(u,i,{"data-bitrate":tn[a],"i-amphtml-video-cached-source":""});s===n.length-1&&c.setAttribute("amp-orig-src",r),t.Mg.appendChild(c)}}))}else e.hasAttribute("i-amphtml-video-cached-source")&&t.Mg.appendChild(e)})),this.Mg.changedSources&&this.Mg.changedSources()},a.Jg=function(){var t=this;_t(this.Mg);var e=l(x(this.element,"source")),n=this.element,i=this.Lg();n.hasAttribute("src")&&!on(n)&&(i.assertHttpsUrl(n.getAttribute("src"),n),V(["src"],this.element,this.Mg)),e.forEach((function(e){_t(!on(e,n)),i.assertHttpsUrl(e.getAttribute("src"),e),t.Mg.appendChild(e)})),l(this.Mg.querySelectorAll("[amp-orig-src]")).forEach((function(e){var n=e.getAttribute("amp-orig-src"),i=e.getAttribute("type"),r=t.Hg(n,i);D(t.Mg,r,e)})),l(x(n,"track")).forEach((function(e){t.Mg.appendChild(e)})),this.Kg(),this.Mg.changedSources&&this.Mg.changedSources()},a.Hg=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.element;this.Lg().assertHttpsUrl(t,i);var r=i.ownerDocument.createElement("source");return r.setAttribute("src",t),e&&r.setAttribute("type",e),L(r,n),r},a.Zg=function(){var t=this.element,e=l(x(t,"source")),n=[];e.push(t);for(var i=0;i<e.length;i++)on(e[i])&&n.push(e[i]);return n},a.Yg=function(){return!!this.Zg().length},a.Ug=function(){return this.Bg()&&Tt(this.win,"amp-story-first-page-max-bitrate")&&k(this.element,"amp-story-page:first-of-type amp-video")?(zt(this.win).addEnabledExperiment("amp-story-first-page-max-bitrate"),1e3):Number.POSITIVE_INFINITY},a.Ng=function(){var t=this,e=this.Mg;e.addEventListener("error",(function(e){return t.Xg(e)})),this.Mb.push(this.forwardEvents([fe,ue,"loadeddata",he,le,ce],e)),this.Mb.push(Kt(e,"volumechange",(function(){var e=t.Mg.muted;t.G!=e&&(t.G=e,T(t.element,t.G?de:pe))}))),["play","pause","ended"].forEach((function(n){t.Mb.push(Kt(e,n,(function(){return t.Cg("play"==n)})))}))},a.Qg=function(){for(this.Cg(!1);this.Mb.length;)this.Mb.pop().call()},a.resetOnDomChange=function(){var t,e,n,i,r,o=this;this.Mg=(r=this.element,_("video"),function(t,e){if(E(t))return t.querySelector(P(e,":scope"));var n=C(t,e)[0];return void 0===n?null:n}(r,"> ".concat("video"))),this.Qg(),this.Ng(),this.Pg&&(t=this.win,Ie||(Tt(t,"flexible-bitrate")&&zt(t).addEnabledExperiment("flexible-bitrate"),Ie=new Fe(t))).manage(this.Mg),this.Mg.readyState>=1?this.Gg():((e=this.Mg,i=new Promise((function(t){n=Xt(e,"loadedmetadata",t,void 0)})),i.then(n,n),i).then((function(){return o.Gg()})),this.Kg())},a.Kg=function(){var t=this,e=this.element.getAttribute("captions-id");if(e){var n=this.win.document.querySelector("amp-story-captions#".concat(String(e).replace(M,S)));if(n){var i=this.getAmpDoc();Ut(i.win).installExtensionForDoc(i,"amp-story-captions","0.1"),this.Rg=!0,n.getImpl().then((function(e){e.setVideoElement&&e.setVideoElement(t.Mg)}))}}},a.Gg=function(){T(this.element,se),this.Dw()},a.pauseCallback=function(){this.Mg&&this.Mg.pause()},a.Cg=function(t){this.Bg()||this.gy.updatePlaying(t)},a.Wg=function(){return!!this.Mg.play},a.supportsPlatform=function(){return this.Wg()},a.isInteractive=function(){return this.element.hasAttribute("controls")},a.play=function(t){et(this.Mg)},a.Dg=function(){if(Gt(this.win).isAndroid()){var t=this.element;if(!t.querySelector("i-amphtml-poster")){var e=t.getAttribute("poster");if(e){var n,i=N(t)(Ze);n=i.style,b(!0),b(!n.display),n.display="block",K(i,{"background-image":"url(".concat(e,")"),"background-size":"cover","background-position":"center"}),i.classList.add("i-amphtml-android-poster-bug"),F(i),t.appendChild(i)}}}},a.pause=function(){this.Mg.pause()},a.mute=function(){this.Bg()||(this.Mg.muted=!0)},a.unmute=function(){this.Bg()||(this.Mg.muted=!1)},a.Bg=function(){return this.element.classList.contains("i-amphtml-poolbound")},a.showControls=function(){this.Mg.controls=!0},a.hideControls=function(){this.Mg.controls=!1},a.fullscreenEnter=function(){var t,e;(e=(t=this.Mg).requestFullscreen||t.requestFullScreen||t.webkitRequestFullscreen||t.webkitEnterFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen)&&e.call(t)},a.fullscreenExit=function(){!function(t){var e=t.cancelFullScreen||t.exitFullscreen||t.webkitExitFullscreen||t.webkitCancelFullScreen||t.mozCancelFullScreen||t.msExitFullscreen;if(e)e.call(t);else{var n=t.ownerDocument;if(n){var i=n.cancelFullScreen||n.exitFullscreen||n.webkitExitFullscreen||n.webkitCancelFullScreen||n.mozCancelFullScreen||n.msExitFullscreen;i&&i.call(n)}}}(this.Mg)},a.isFullscreen=function(){return function(t){var e=t.webkitDisplayingFullscreen;if(void 0!==e)return e;var n=t.ownerDocument;return!!n&&(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.webkitCurrentFullScreenElement)==t}(this.Mg)},a.getMetadata=function(){return this.Vy},a.preimplementsMediaSessionAPI=function(){return!1},a.preimplementsAutoFullscreen=function(){return!1},a.getCurrentTime=function(){return this.Mg.currentTime},a.getDuration=function(){return this.Mg.duration},a.getPlayedRanges=function(){for(var t=this.Mg.played,e=t.length,n=[],i=0;i<e;i++)n.push([t.start(i),t.end(i)]);return n},a.firstLayoutCompleted=function(){this.Vg()||this.togglePlaceholder(!1)},a.Dw=function(){var t=this.element.querySelector("i-amphtml-poster");t&&j(t)},a.Lg=function(){return Bt(this.element)},a.Vg=function(){var t=this.getPlaceholder();return!(!t||!t.classList.contains("i-amphtml-blurry-placeholder")||(function(t,e){var n=t.style;for(var i in e)n.setProperty($(Q(n,i)),String(e[i]),"important")}(t,{opacity:0}),0))},a.Fg=function(t){var e=this.Mg.getAttribute("poster");if(e){var n=new Image;n.onload=t,n.src=e}},a.seekTo=function(t){this.Mg.currentTime=t},a.toggleCaptions=function(t){var e=this;l(this.Mg.textTracks).forEach((function(n){n.mode=t?e.Rg?"hidden":"showing":"disabled"}))},o}(t.BaseElement);function on(t,e){var n=t.getAttribute("src");return!!t.hasAttribute("amp-orig-src")&&Bt(e||t).isProxyOrigin(n)}t.registerElement(Ke,rn)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});